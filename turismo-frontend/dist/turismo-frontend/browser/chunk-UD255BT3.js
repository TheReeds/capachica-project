import{Nc as l,Oc as d,Pc as u,Sc as m,U as c,_ as g,p as s}from"./chunk-T2OCC6GX.js";var h=class p{http=g(u);API_URL=m.apiUrl;prepareFormData(e){let r=new FormData;return Object.keys(e).forEach(i=>{i!=="sliders_principales"&&i!=="sliders_secundarios"&&i!=="sliders"&&i!=="imagenes"&&i!=="categorias"&&i!=="deleted_sliders"&&i!=="horarios"&&i!=="servicios"&&e[i]!==null&&e[i]!==void 0&&e[i]!==""&&(Array.isArray(e[i])?e[i].forEach((t,a)=>{r.append(`${i}[]`,t.toString())}):r.append(i,e[i]))}),e.categorias&&Array.isArray(e.categorias)&&e.categorias.length>0&&e.categorias.forEach(i=>{r.append("categorias[]",i.toString())}),e.horarios&&Array.isArray(e.horarios)&&e.horarios.length>0&&e.horarios.forEach((i,t)=>{i.id&&r.append(`horarios[${t}][id]`,i.id.toString()),r.append(`horarios[${t}][dia_semana]`,i.dia_semana),r.append(`horarios[${t}][hora_inicio]`,i.hora_inicio),r.append(`horarios[${t}][hora_fin]`,i.hora_fin),i.activo!==void 0&&r.append(`horarios[${t}][activo]`,i.activo.toString())}),e.deleted_sliders&&Array.isArray(e.deleted_sliders)&&e.deleted_sliders.length>0&&e.deleted_sliders.forEach(i=>{r.append("deleted_sliders[]",i.toString())}),e.sliders_principales&&Array.isArray(e.sliders_principales)&&e.sliders_principales.length>0&&e.sliders_principales.forEach((i,t)=>{i.id&&r.append(`sliders_principales[${t}][id]`,i.id.toString()),i.nombre&&r.append(`sliders_principales[${t}][nombre]`,i.nombre),i.orden&&r.append(`sliders_principales[${t}][orden]`,i.orden.toString()),i.imagen instanceof File&&r.append(`sliders_principales[${t}][imagen]`,i.imagen),r.append(`sliders_principales[${t}][es_principal]`,"true")}),e.sliders_secundarios&&Array.isArray(e.sliders_secundarios)&&e.sliders_secundarios.length>0&&e.sliders_secundarios.forEach((i,t)=>{i.id&&r.append(`sliders_secundarios[${t}][id]`,i.id.toString()),i.nombre&&r.append(`sliders_secundarios[${t}][nombre]`,i.nombre),i.orden&&r.append(`sliders_secundarios[${t}][orden]`,i.orden.toString()),i.imagen instanceof File&&r.append(`sliders_secundarios[${t}][imagen]`,i.imagen),r.append(`sliders_secundarios[${t}][es_principal]`,"false"),r.append(`sliders_secundarios[${t}][titulo]`,i.titulo||""),r.append(`sliders_secundarios[${t}][descripcion]`,i.descripcion||"")}),e.sliders&&Array.isArray(e.sliders)&&e.sliders.length>0&&e.sliders.forEach((i,t)=>{i.id&&r.append(`sliders[${t}][id]`,i.id.toString()),i.nombre&&r.append(`sliders[${t}][nombre]`,i.nombre),i.orden&&r.append(`sliders[${t}][orden]`,i.orden.toString()),i.es_principal!==void 0&&r.append(`sliders[${t}][es_principal]`,i.es_principal.toString()),i.imagen instanceof File&&r.append(`sliders[${t}][imagen]`,i.imagen),i.titulo!==void 0&&r.append(`sliders[${t}][titulo]`,i.titulo||""),i.descripcion!==void 0&&r.append(`sliders[${t}][descripcion]`,i.descripcion||"")}),r}getHeaders(){let e=localStorage.getItem("auth_token");return new l({Authorization:`Bearer ${e}`,Accept:"application/json"})}getSimpleHeaders(){return this.getHeaders().set("Content-Type","application/json")}getMunicipalidades(){return this.http.get(`${this.API_URL}/municipalidad`,{headers:this.getSimpleHeaders()}).pipe(s(e=>e.data))}getMunicipalidad(e){return this.http.get(`${this.API_URL}/municipalidad/${e}`,{headers:this.getSimpleHeaders()}).pipe(s(r=>r.data))}getMunicipalidadWithAsociaciones(e){return this.http.get(`${this.API_URL}/municipalidad/${e}/asociaciones`,{headers:this.getSimpleHeaders()}).pipe(s(r=>r.data))}getMunicipalidadWithAsociacionesAndEmprendedores(e){return this.http.get(`${this.API_URL}/municipalidad/${e}/asociaciones/emprendedores`,{headers:this.getSimpleHeaders()}).pipe(s(r=>r.data))}createMunicipalidad(e){let r=this.prepareFormData(e);return this.http.post(`${this.API_URL}/municipalidad`,r,{headers:this.getHeaders()}).pipe(s(i=>i.data))}updateMunicipalidad(e,r){let i=this.prepareFormData(r);return i.append("_method","PUT"),this.http.post(`${this.API_URL}/municipalidad/${e}`,i,{headers:this.getHeaders()}).pipe(s(t=>t.data))}deleteMunicipalidad(e){return this.http.delete(`${this.API_URL}/municipalidad/${e}`,{headers:this.getSimpleHeaders()})}getEventos(){return this.http.get(`${this.API_URL}/evento`,{headers:this.getSimpleHeaders()}).pipe(s(e=>e.data))}getEvento(e){return this.http.get(`${this.API_URL}/evento/${e}`,{headers:this.getSimpleHeaders()}).pipe(s(r=>r.data))}createEvento(e){let r=this.prepareFormData(e);return this.http.post(`${this.API_URL}/evento`,r,{headers:this.getHeaders()}).pipe(s(i=>i.data))}updateEvento(e,r){let i=this.prepareFormData(r);return i.append("_method","PUT"),this.http.post(`${this.API_URL}/evento/${e}`,i,{headers:this.getHeaders()}).pipe(s(t=>t.data))}deleteEvento(e){return this.http.delete(`${this.API_URL}/evento/${e}`,{headers:this.getSimpleHeaders()})}getAsociaciones(e=1,r=10){let i=new d().set("page",e.toString()).set("per_page",r.toString());return this.http.get(`${this.API_URL}/asociaciones`,{params:i,headers:this.getSimpleHeaders()}).pipe(s(t=>t.data))}getAsociacion(e){return this.http.get(`${this.API_URL}/asociaciones/${e}`,{headers:this.getSimpleHeaders()}).pipe(s(r=>r.data))}getAsociacionesByMunicipalidad(e){return this.http.get(`${this.API_URL}/asociaciones/municipalidad/${e}`,{headers:this.getSimpleHeaders()}).pipe(s(r=>r.data))}getEmprendedoresByAsociacion(e){return this.http.get(`${this.API_URL}/asociaciones/${e}/emprendedores`,{headers:this.getSimpleHeaders()}).pipe(s(r=>r.data))}createAsociacion(e){let r=new FormData;return e.nombre&&r.append("nombre",e.nombre),e.descripcion&&r.append("descripcion",e.descripcion),e.telefono&&r.append("telefono",e.telefono),e.email&&r.append("email",e.email),e.municipalidad_id&&r.append("municipalidad_id",e.municipalidad_id.toString()),e.estado!==void 0&&r.append("estado",e.estado?"1":"0"),e.latitud&&r.append("latitud",e.latitud.toString()),e.longitud&&r.append("longitud",e.longitud.toString()),e.imagen instanceof File&&r.append("imagen",e.imagen),this.http.post(`${this.API_URL}/asociaciones`,r,{headers:this.getHeaders()}).pipe(s(i=>i.data))}updateAsociacion(e,r){let i=new FormData;return i.append("_method","PUT"),r.nombre&&i.append("nombre",r.nombre),r.descripcion&&i.append("descripcion",r.descripcion),r.telefono&&i.append("telefono",r.telefono),r.email&&i.append("email",r.email),r.municipalidad_id&&i.append("municipalidad_id",r.municipalidad_id.toString()),r.estado!==void 0&&i.append("estado",r.estado?"1":"0"),r.latitud&&i.append("latitud",r.latitud.toString()),r.longitud&&i.append("longitud",r.longitud.toString()),r.imagen instanceof File&&i.append("imagen",r.imagen),this.http.post(`${this.API_URL}/asociaciones/${e}`,i,{headers:this.getHeaders()}).pipe(s(t=>t.data))}deleteAsociacion(e){return this.http.delete(`${this.API_URL}/asociaciones/${e}`,{headers:this.getSimpleHeaders()})}getEmprendedores(e=1,r=10){let i=new d().set("page",e.toString()).set("per_page",r.toString());return this.http.get(`${this.API_URL}/emprendedores`,{params:i,headers:this.getSimpleHeaders()}).pipe(s(t=>t.data))}getEmprendedor(e){return this.http.get(`${this.API_URL}/emprendedores/${e}`,{headers:this.getSimpleHeaders()}).pipe(s(r=>{let i=r.data;return i.sliders_principales&&(i.slidersPrincipales=i.sliders_principales),i.sliders_secundarios&&(i.slidersSecundarios=i.sliders_secundarios),i}))}getEmprendedoresByCategoria(e){return this.http.get(`${this.API_URL}/emprendedores/categoria/${e}`,{headers:this.getSimpleHeaders()}).pipe(s(r=>r.data))}searchEmprendedores(e){let r=new d().set("q",e);return this.http.get(`${this.API_URL}/emprendedores/search`,{params:r,headers:this.getSimpleHeaders()}).pipe(s(i=>i.data))}getServiciosByEmprendedor(e){return this.http.get(`${this.API_URL}/emprendedores/${e}/servicios`,{headers:this.getSimpleHeaders()}).pipe(s(r=>r.data))}createEmprendedor(e){let r=this.prepareFormData(e);return this.http.post(`${this.API_URL}/emprendedores`,r,{headers:this.getHeaders()}).pipe(s(i=>i.data))}updateEmprendedor(e,r){let i=this.prepareFormData(r);return i.append("_method","PUT"),this.http.post(`${this.API_URL}/emprendedores/${e}`,i,{headers:this.getHeaders()}).pipe(s(t=>t.data))}deleteEmprendedor(e){return this.http.delete(`${this.API_URL}/emprendedores/${e}`,{headers:this.getSimpleHeaders()})}getServicios(e=1,r=10,i){let t=new d().set("page",e.toString()).set("per_page",r.toString());return i&&Object.keys(i).forEach(a=>{i[a]!==null&&i[a]!==void 0&&i[a]!==""&&(t=t.set(a,i[a].toString()))}),this.http.get(`${this.API_URL}/servicios`,{params:t,headers:this.getSimpleHeaders()}).pipe(s(a=>a.data))}getServicio(e){return this.http.get(`${this.API_URL}/servicios/${e}`,{headers:this.getSimpleHeaders()}).pipe(s(r=>r.data))}getServiciosByCategoria(e){return this.http.get(`${this.API_URL}/servicios/categoria/${e}`,{headers:this.getSimpleHeaders()}).pipe(s(r=>r.data))}createServicio(e){let r=this.prepareFormData(e);return this.http.post(`${this.API_URL}/servicios`,r,{headers:this.getHeaders()}).pipe(s(i=>i.data))}updateServicio(e,r){let i=this.prepareFormData(r);return i.append("_method","PUT"),this.http.post(`${this.API_URL}/servicios/${e}`,i,{headers:this.getHeaders()}).pipe(s(t=>t.data))}deleteServicio(e){return this.http.delete(`${this.API_URL}/servicios/${e}`,{headers:this.getSimpleHeaders()})}verificarDisponibilidadServicio(e,r,i,t){let a=new d().set("servicio_id",e.toString()).set("fecha",r).set("hora_inicio",i).set("hora_fin",t);return this.http.get(`${this.API_URL}/servicios/verificar-disponibilidad`,{params:a,headers:this.getSimpleHeaders()}).pipe(s(o=>({disponible:o.disponible})))}getServiciosByUbicacion(e,r,i=10){let t=new d().set("latitud",e.toString()).set("longitud",r.toString()).set("distancia",i.toString());return this.http.get(`${this.API_URL}/servicios/ubicacion`,{params:t,headers:this.getSimpleHeaders()}).pipe(s(a=>a.data))}getSliders(e=1,r=10,i){let t=new d().set("page",e.toString()).set("per_page",r.toString());return i&&(i.tipo_entidad&&(t=t.set("tipo_entidad",i.tipo_entidad)),i.entidad_id&&(t=t.set("entidad_id",i.entidad_id.toString())),i.es_principal!==void 0&&(t=t.set("es_principal",i.es_principal.toString())),i.with_descripcion!==void 0&&(t=t.set("with_descripcion",i.with_descripcion.toString()))),this.http.get(`${this.API_URL}/sliders`,{params:t,headers:this.getSimpleHeaders()}).pipe(s(a=>a.data))}getSlidersByEntidad(e,r,i=!0){let t=new d().set("with_descripcion",i.toString());return this.http.get(`${this.API_URL}/sliders/entidad/${e}/${r}`,{params:t,headers:this.getSimpleHeaders()}).pipe(s(a=>a.data))}getSlider(e){return this.http.get(`${this.API_URL}/sliders/${e}`,{headers:this.getSimpleHeaders()}).pipe(s(r=>r.data))}createSlider(e,r){let i=new FormData;return Object.keys(e).forEach(t=>{t!=="imagen"&&i.append(t,e[t]?.toString()||"")}),i.append("imagen",r),this.http.post(`${this.API_URL}/sliders`,i,{headers:this.getHeaders()}).pipe(s(t=>t.data))}updateSlider(e,r,i){let t=new FormData;return t.append("_method","PUT"),Object.keys(r).forEach(a=>{a!=="imagen"&&t.append(a,r[a]?.toString()||"")}),i&&t.append("imagen",i),this.http.post(`${this.API_URL}/sliders/${e}`,t,{headers:this.getHeaders()}).pipe(s(a=>a.data))}deleteSlider(e){return this.http.delete(`${this.API_URL}/sliders/${e}`,{headers:this.getSimpleHeaders()})}createMultipleSliders(e,r,i){let t=new FormData;return t.append("tipo_entidad",e),t.append("entidad_id",r.toString()),i.forEach((a,o)=>{Object.keys(a).forEach(n=>{n==="imagen"&&a[n]instanceof File?t.append(`sliders[${o}][imagen]`,a[n]):n!=="imagen"&&t.append(`sliders[${o}][${n}]`,a[n]?.toString()||"")})}),this.http.post(`${this.API_URL}/sliders/multiple`,t,{headers:this.getHeaders()}).pipe(s(a=>a.data))}getCategorias(){return this.http.get(`${this.API_URL}/categorias`,{headers:this.getSimpleHeaders()}).pipe(s(e=>e.data))}getCategoria(e){return this.http.get(`${this.API_URL}/categorias/${e}`,{headers:this.getSimpleHeaders()}).pipe(s(r=>r.data))}createCategoria(e){return this.http.post(`${this.API_URL}/categorias`,e,{headers:this.getSimpleHeaders()}).pipe(s(r=>r.data))}updateCategoria(e,r){return this.http.put(`${this.API_URL}/categorias/${e}`,r,{headers:this.getSimpleHeaders()}).pipe(s(i=>i.data))}deleteCategoria(e){return this.http.delete(`${this.API_URL}/categorias/${e}`,{headers:this.getSimpleHeaders()})}getReservas(e=1,r=10,i){let t=new d().set("page",e.toString()).set("per_page",r.toString());return i&&Object.keys(i).forEach(a=>{i[a]!==null&&i[a]!==void 0&&i[a]!==""&&(t=t.set(a,i[a].toString()))}),this.http.get(`${this.API_URL}/reservas`,{params:t,headers:this.getSimpleHeaders()}).pipe(s(a=>a.data))}getReserva(e){return this.http.get(`${this.API_URL}/reservas/${e}`,{headers:this.getSimpleHeaders()}).pipe(s(r=>r.data))}createReserva(e){return this.http.post(`${this.API_URL}/reservas`,e,{headers:this.getSimpleHeaders()}).pipe(s(r=>r.data))}updateReserva(e,r){return this.http.put(`${this.API_URL}/reservas/${e}`,r,{headers:this.getSimpleHeaders()}).pipe(s(i=>i.data))}deleteReserva(e){return this.http.delete(`${this.API_URL}/reservas/${e}`,{headers:this.getSimpleHeaders()})}cambiarEstadoReserva(e,r){return this.http.put(`${this.API_URL}/reservas/${e}/estado`,{estado:r},{headers:this.getSimpleHeaders()}).pipe(s(i=>i.data))}getReservasByEmprendedor(e){return this.http.get(`${this.API_URL}/reservas/emprendedor/${e}`,{headers:this.getSimpleHeaders()}).pipe(s(r=>r.data))}getReservasByServicio(e){return this.http.get(`${this.API_URL}/reservas/servicio/${e}`,{headers:this.getSimpleHeaders()}).pipe(s(r=>r.data))}getServiciosByReserva(e){return this.http.get(`${this.API_URL}/reserva-servicios/reserva/${e}`,{headers:this.getSimpleHeaders()}).pipe(s(r=>r.data))}cambiarEstadoServicioReserva(e,r){return this.http.put(`${this.API_URL}/reserva-servicios/${e}/estado`,{estado:r},{headers:this.getSimpleHeaders()}).pipe(s(i=>i.data))}getCalendarioReservas(e,r,i){let t=new d().set("fecha_inicio",e).set("fecha_fin",r);return i&&(t=t.set("emprendedor_id",i.toString())),this.http.get(`${this.API_URL}/reserva-servicios/calendario`,{params:t,headers:this.getSimpleHeaders()}).pipe(s(a=>a.data))}verificarDisponibilidadReservaServicio(e,r,i,t,a,o){let n=new d().set("servicio_id",e.toString()).set("fecha_inicio",r).set("hora_inicio",t).set("hora_fin",a);return i&&(n=n.set("fecha_fin",i)),o&&(n=n.set("reserva_servicio_id",o.toString())),this.http.get(`${this.API_URL}/reserva-servicios/verificar-disponibilidad`,{params:n,headers:this.getSimpleHeaders()}).pipe(s(b=>({disponible:b.disponible})))}static \u0275fac=function(r){return new(r||p)};static \u0275prov=c({token:p,factory:p.\u0275fac,providedIn:"root"})};export{h as a};
