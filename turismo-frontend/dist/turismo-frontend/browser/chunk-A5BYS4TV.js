import{a as z}from"./chunk-JPXMOWFC.js";import{a as j}from"./chunk-ECGKA34I.js";import{b as N,c as h,d as D,e as U,i as A,l as G,o as L,p as B,q as R,r as H,x as $,z as q}from"./chunk-DV54EIF6.js";import{g as V}from"./chunk-ZI6AQ4XN.js";import{Ga as k,Gb as a,Hb as f,Hc as O,Ib as y,La as l,Va as I,_,_a as u,fb as d,ga as v,ha as w,ia as g,ja as x,ob as r,pb as t,qb as m,tb as S,ub as p,uc as M,vb as c,vc as T,wc as F}from"./chunk-T2OCC6GX.js";import"./chunk-4CLCTAJ7.js";function J(i,n){if(i&1&&(r(0,"div",28),m(1,"img",29),t()),i&2){let e=c();l(),d("src",e.user==null?null:e.user.foto_perfil,k)}}function W(i,n){if(i&1&&(r(0,"div",30),a(1),t()),i&2){let e=c();l(),y(" ",e.userInitials," ")}}function K(i,n){i&1&&(g(),r(0,"svg",31),m(1,"path",32),t())}function Q(i,n){i&1&&(g(),r(0,"svg",33),m(1,"path",34),t())}function X(i,n){i&1&&(r(0,"div",35),m(1,"div",36),t())}function Y(i,n){if(i&1&&(r(0,"div",72)(1,"div",73)(2,"div",74),g(),r(3,"svg",75),m(4,"path",76),t()(),x(),r(5,"div",77)(6,"p",78),a(7),t()()()()),i&2){let e=c(2);l(7),f(e.updateError)}}function Z(i,n){i&1&&(r(0,"div",79)(1,"div",73)(2,"div",74),g(),r(3,"svg",80),m(4,"path",81),t()(),x(),r(5,"div",77)(6,"p",82),a(7,"Perfil actualizado correctamente."),t()()()())}function ee(i,n){i&1&&(r(0,"p",83),a(1,"El nombre es obligatorio"),t())}function te(i,n){i&1&&(r(0,"p",83),a(1,"El tel\xE9fono es obligatorio"),t())}function re(i,n){if(i&1&&(r(0,"option",84),a(1),t()),i&2){let e=n.$implicit;d("value",e.value),l(),f(e.label)}}function ie(i,n){if(i&1&&(r(0,"option",84),a(1),t()),i&2){let e=n.$implicit;d("value",e.value),l(),f(e.label)}}function ne(i,n){if(i&1&&(r(0,"div",85),m(1,"img",86),r(2,"div",87),a(3," Vista previa "),t()()),i&2){let e=c(2);l(),d("src",e.previewUrl,k)}}function oe(i,n){if(i&1&&(r(0,"div",88),m(1,"img",29),t()),i&2){let e=c(2);l(),d("src",e.user==null?null:e.user.foto_perfil,k)}}function ae(i,n){i&1&&(r(0,"div",89),g(),r(1,"svg",90),m(2,"path",91),t()())}function le(i,n){if(i&1&&(r(0,"p",83),a(1),t()),i&2){let e=c(2);l(),f(e.fileError)}}function de(i,n){if(i&1){let e=S();r(0,"div",92)(1,"button",93),p("click",function(){v(e);let s=c(2);return w(s.saveProfilePhoto())}),a(2," Guardar "),t(),r(3,"button",94),p("click",function(){v(e);let s=c(2);return w(s.cancelSelection())}),a(4," Cancelar "),t()()}}function se(i,n){i&1&&m(0,"span",95)}function me(i,n){if(i&1){let e=S();r(0,"div")(1,"form",37),p("ngSubmit",function(){v(e);let s=c();return w(s.onSubmit())}),u(2,Y,8,1,"div",38)(3,Z,8,0,"div",39),r(4,"div",40)(5,"div")(6,"label",41),a(7,"Nombre completo"),t(),m(8,"input",42),u(9,ee,2,0,"p",43),t(),r(10,"div")(11,"label",44),a(12,"Correo electr\xF3nico"),t(),m(13,"input",45),t(),r(14,"div")(15,"label",46),a(16,"Tel\xE9fono"),t(),m(17,"input",47),u(18,te,2,0,"p",43),t(),r(19,"div")(20,"label",48),a(21,"Fecha de nacimiento"),t(),m(22,"input",49),t()(),r(23,"div",40)(24,"div")(25,"label",50),a(26,"Pa\xEDs"),t(),m(27,"input",51),t(),r(28,"div")(29,"label",52),a(30,"Direcci\xF3n"),t(),m(31,"input",53),t(),r(32,"div")(33,"label",54),a(34,"G\xE9nero"),t(),r(35,"select",55),u(36,re,2,2,"option",56),t()(),r(37,"div")(38,"label",57),a(39,"Idioma preferido"),t(),r(40,"select",58),u(41,ie,2,2,"option",56),t()()(),r(42,"div")(43,"label",59),a(44,"Foto de perfil"),t(),r(45,"div",60)(46,"div"),u(47,ne,4,1,"div",61)(48,oe,2,1,"div",62)(49,ae,3,0,"div",63),t(),r(50,"div",64)(51,"input",65),p("change",function(s){v(e);let b=c();return w(b.onFileChange(s))}),t(),r(52,"p",66),a(53,"PNG, JPG, GIF hasta 5MB"),t(),u(54,le,2,1,"p",43)(55,de,5,0,"div",67),t()()(),r(56,"div",68)(57,"button",69),p("click",function(){v(e);let s=c();return w(s.resetForm())}),a(58," Cancelar "),t(),r(59,"button",70),u(60,se,1,0,"span",71),a(61),t()()()()}if(i&2){let e=c();l(),d("formGroup",e.profileForm),l(),d("ngIf",e.updateError),l(),d("ngIf",e.updateSuccess),l(6),d("ngIf",e.submitted&&e.f.name.errors),l(9),d("ngIf",e.submitted&&e.f.phone.errors),l(18),d("ngForOf",e.genderOptions),l(5),d("ngForOf",e.languageOptions),l(6),d("ngIf",e.previewUrl),l(),d("ngIf",!e.previewUrl&&(e.user==null?null:e.user.foto_perfil)),l(),d("ngIf",!e.previewUrl&&!(e.user!=null&&e.user.foto_perfil)),l(5),d("ngIf",e.fileError),l(),d("ngIf",e.previewUrl),l(4),d("disabled",e.updating),l(),d("ngIf",e.updating),l(),y(" ",e.updating?"Actualizando...":"Guardar cambios"," ")}}function ce(i,n){i&1&&(r(0,"span",106),a(1," Verificado "),t())}function ue(i,n){i&1&&(r(0,"button",107),a(1," Verificar ahora "),t())}function ge(i,n){if(i&1&&(r(0,"div",96)(1,"div",97),a(2,' Para cambiar tu contrase\xF1a, puedes usar la funcionalidad de "Olvid\xE9 mi contrase\xF1a" en la p\xE1gina de inicio de sesi\xF3n. '),t(),r(3,"div",98)(4,"div",99)(5,"div")(6,"h3",100),a(7,"Verificaci\xF3n de correo electr\xF3nico"),t(),r(8,"p",101),a(9,"Verifica tu correo electr\xF3nico para mayor seguridad"),t()(),u(10,ce,2,0,"span",102)(11,ue,2,0,"button",103),t(),r(12,"div",99)(13,"div")(14,"h3",100),a(15,"Autenticaci\xF3n de dos factores"),t(),r(16,"p",101),a(17,"A\xF1ade una capa adicional de seguridad a tu cuenta"),t()(),r(18,"span",104),a(19," No disponible "),t()(),r(20,"div",99)(21,"div")(22,"h3",100),a(23,"Sesiones activas"),t(),r(24,"p",101),a(25,"Dispositivos conectados a tu cuenta"),t()(),r(26,"button",105),a(27," Ver sesiones "),t()()()()),i&2){let e=c();l(10),d("ngIf",e.user==null?null:e.user.email_verified_at),l(),d("ngIf",!(e.user!=null&&e.user.email_verified_at))}}function pe(i,n){if(i&1&&(r(0,"span",125),a(1),t()),i&2){let e=n.$implicit;l(),y(" ",e," ")}}function fe(i,n){if(i&1&&(r(0,"div",121)(1,"h5",122),a(2,"Permisos:"),t(),r(3,"div",123),u(4,pe,2,1,"span",124),t()()),i&2){let e=c().$implicit,o=c(3);l(4),d("ngForOf",o.getPermissions(e))}}function be(i,n){if(i&1&&(r(0,"div",114)(1,"div",115)(2,"div",116),g(),r(3,"svg",117),m(4,"path",118),t()(),x(),r(5,"div",119)(6,"h4",100),a(7),t()()(),u(8,fe,5,1,"div",120),t()),i&2){let e=n.$implicit,o=c(3);l(7),f(e==null?null:e.name),l(),d("ngIf",(e==null?null:e.permissions)&&o.getPermissions(e).length>0)}}function xe(i,n){if(i&1&&(r(0,"div",112),u(1,be,9,2,"div",113),t()),i&2){let e=c(2);l(),d("ngForOf",e.user==null?null:e.user.roles)}}function ve(i,n){i&1&&(r(0,"div",126),g(),r(1,"svg",127),m(2,"path",128),t(),x(),r(3,"h3",129),a(4,"No tienes roles asignados"),t(),r(5,"p",66),a(6,"Contacta con el administrador para obtener los permisos necesarios."),t()())}function we(i,n){if(i&1&&(r(0,"div",96)(1,"div",108)(2,"h3",109),a(3,"Tus roles"),t(),u(4,xe,2,1,"div",110)(5,ve,7,0,"div",111),t()()),i&2){let e=c();l(4),d("ngIf",e.hasRoles()),l(),d("ngIf",!e.hasRoles())}}var C=class i{fb=_($);authService=_(j);themeService=_(z);profileForm;user=null;loading=!0;updating=!1;submitted=!1;updateError="";updateSuccess=!1;fileError="";selectedFile=null;previewUrl=null;userInitials="";activeTab="personal";languageOptions=[{value:"",label:"Seleccionar idioma"},{value:"es",label:"Espa\xF1ol"},{value:"en",label:"Ingl\xE9s"},{value:"pt",label:"Portugu\xE9s"},{value:"fr",label:"Franc\xE9s"},{value:"de",label:"Alem\xE1n"}];genderOptions=[{value:"",label:"Seleccionar g\xE9nero"},{value:"male",label:"Masculino"},{value:"female",label:"Femenino"},{value:"other",label:"Otro"},{value:"prefer_not_to_say",label:"Prefiero no decir"}];ngOnInit(){this.initForm(),this.loadUserProfile()}initForm(){this.profileForm=this.fb.group({name:["",h.required],email:["",[h.required,h.email]],phone:["",h.required],country:[""],birth_date:[""],address:[""],gender:[""],preferred_language:[""]})}get f(){return this.profileForm.controls}loadUserProfile(){this.loading=!0,this.authService.getProfile().subscribe({next:n=>{this.user=n,this.profileForm.patchValue({name:n.name||"",email:n.email||"",phone:n.phone||"",country:n.country||"",birth_date:n.birth_date||"",address:n.address||"",gender:n.gender||"",preferred_language:n.preferred_language||""}),this.userInitials=this.getUserInitials(),this.loading=!1},error:n=>{console.error("Error loading profile:",n),this.loading=!1,this.updateError="Error al cargar el perfil. Int\xE9ntelo de nuevo m\xE1s tarde."}})}getUserInitials(){if(!this.user)return"";if(this.user.name){let n=this.user.name.split(" ");return n.length>1?(n[0].charAt(0)+n[1].charAt(0)).toUpperCase():this.user.name.substring(0,2).toUpperCase()}return"U"}onFileChange(n){let e=n.target;if(this.fileError="",e.files&&e.files.length){let o=e.files[0];if(!o.type.startsWith("image/")){this.fileError="El archivo debe ser una imagen.",e.value="",this.clearPreview();return}if(o.size>5*1024*1024){this.fileError="La imagen no debe superar los 5MB.",e.value="",this.clearPreview();return}this.selectedFile=o,this.createPreview(o)}else this.clearPreview()}setActiveTab(n){this.activeTab=n}onSubmit(){if(this.submitted=!0,this.updateError="",this.updateSuccess=!1,this.profileForm.invalid)return;this.updating=!0;let n=new FormData,e=this.profileForm.value;Object.keys(e).forEach(o=>{e[o]!==null&&e[o]!==void 0&&n.append(o,e[o])}),this.selectedFile&&n.append("foto_perfil",this.selectedFile),this.authService.updateProfile(n).subscribe({next:o=>{this.user=o,this.updateSuccess=!0,this.updating=!1,this.submitted=!1,this.loadUserProfile()},error:o=>{if(this.updating=!1,this.updateError=o.error?.message||"Ha ocurrido un error al actualizar el perfil.",o.error?.errors){let s=o.error.errors;Object.keys(s).forEach(b=>{let E=Array.isArray(s[b])?s[b][0]:s[b];if(b==="foto_perfil")this.fileError=E;else{let P=this.profileForm.get(b);P&&P.setErrors({serverError:E})}})}}})}formatDate(n){return n?new Date(n).toLocaleString():"Nunca"}resetForm(){this.submitted=!1,this.updateError="",this.fileError="",this.selectedFile=null,this.clearPreview(),this.loadUserProfile()}isDarkMode(){return this.themeService.isDarkMode()}toggleDarkMode(){this.themeService.toggleDarkMode()}getPermissions(n){return!n||!n.permissions?[]:Array.isArray(n.permissions)?n.permissions.map(e=>typeof e=="string"?e:e.name):[]}hasRoles(){return!!this.user&&!!this.user.roles&&this.user.roles.length>0}getRolesLength(){return this.user?.roles?.length||0}createPreview(n){let e=new FileReader;e.onload=o=>{this.previewUrl=o.target.result},e.readAsDataURL(n)}clearPreview(){this.selectedFile=null,this.previewUrl=null}cancelSelection(){this.clearPreview(),this.fileError="";let n=document.getElementById("foto_perfil");n&&(n.value="")}saveProfilePhoto(){this.onSubmit()}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=I({type:i,selectors:[["app-profile"]],decls:41,vars:15,consts:[[1,"max-w-5xl","mx-auto"],[1,"relative","bg-white","dark:bg-gray-800","rounded-xl","shadow-lg","overflow-hidden","mb-8","transition-colors","duration-300"],[1,"h-32","w-full","bg-gradient-to-r","from-blue-400","to-green-400","dark:from-blue-600","dark:to-green-600"],[1,"relative","px-6","pb-8","pt-1"],[1,"absolute","-top-16","flex","justify-center","items-center"],[1,"relative"],["class","h-32 w-32 rounded-full overflow-hidden border-4 border-white dark:border-gray-800 shadow-xl bg-white dark:bg-gray-700",4,"ngIf"],["class","h-32 w-32 rounded-full flex items-center justify-center text-3xl font-bold text-white bg-gradient-to-r from-blue-500 to-green-500 border-4 border-white dark:border-gray-800 shadow-xl",4,"ngIf"],[1,"mt-20","flex","flex-col","sm:flex-row","sm:items-end","sm:justify-between"],[1,"text-2xl","font-bold","text-gray-900","dark:text-white"],[1,"text-gray-600","dark:text-gray-300"],[1,"mt-1","text-sm","text-gray-500","dark:text-gray-400","flex","items-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-4","w-4","mr-1"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"mt-4","sm:mt-0","flex","space-x-3"],["type","button",1,"inline-flex","items-center","px-4","py-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","text-sm","font-medium","text-gray-700","dark:text-gray-200","bg-white","dark:bg-gray-700","hover:bg-gray-50","dark:hover:bg-gray-600","focus:outline-none","transition-colors","duration-300",3,"click"],["xmlns","http://www.w3.org/2000/svg","class","h-5 w-5 mr-2 text-gray-500 dark:text-gray-400","fill","none","viewBox","0 0 24 24","stroke","currentColor",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","class","h-5 w-5 mr-2 text-yellow-400","fill","none","viewBox","0 0 24 24","stroke","currentColor",4,"ngIf"],["routerLink","/dashboard",1,"inline-flex","items-center","px-4","py-2","border","border-transparent","rounded-md","shadow-sm","text-sm","font-medium","text-white","bg-green-600","hover:bg-green-700","focus:outline-none"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 12l2-2m0 0l7-7 7 7m-7-7v14"],[1,"mt-8","border-b","border-gray-200","dark:border-gray-700"],[1,"-mb-px","flex","space-x-8"],[1,"whitespace-nowrap","py-2","px-1","border-b-2","font-medium","text-sm",3,"click","ngClass"],[1,"bg-white","dark:bg-gray-800","rounded-xl","shadow-lg","p-6","sm:p-8","transition-colors","duration-300"],["class","py-10 flex justify-center",4,"ngIf"],[4,"ngIf"],["class","space-y-6",4,"ngIf"],[1,"h-32","w-32","rounded-full","overflow-hidden","border-4","border-white","dark:border-gray-800","shadow-xl","bg-white","dark:bg-gray-700"],["alt","Foto de perfil",1,"h-full","w-full","object-cover",3,"src"],[1,"h-32","w-32","rounded-full","flex","items-center","justify-center","text-3xl","font-bold","text-white","bg-gradient-to-r","from-blue-500","to-green-500","border-4","border-white","dark:border-gray-800","shadow-xl"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5","mr-2","text-gray-500","dark:text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5","mr-2","text-yellow-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"],[1,"py-10","flex","justify-center"],[1,"inline-block","h-10","w-10","animate-spin","rounded-full","border-4","border-solid","border-blue-500","border-r-transparent"],[1,"space-y-6",3,"ngSubmit","formGroup"],["class","rounded-md bg-red-50 dark:bg-red-900 p-4 mb-4",4,"ngIf"],["class","rounded-md bg-green-50 dark:bg-green-900 p-4 mb-4",4,"ngIf"],[1,"grid","grid-cols-1","gap-6","sm:grid-cols-2"],["for","name",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","text","id","name","formControlName","name",1,"mt-1","block","w-full","rounded-md","border-gray-300","shadow-sm","focus:border-blue-500","focus:ring-blue-500","dark:bg-gray-700","dark:border-gray-600","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["class","mt-1 text-sm text-red-600 dark:text-red-400",4,"ngIf"],["for","email",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","email","id","email","formControlName","email","readonly","",1,"mt-1","block","w-full","rounded-md","border-gray-300","shadow-sm","focus:border-blue-500","focus:ring-blue-500","dark:bg-gray-700","dark:border-gray-600","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["for","phone",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","tel","id","phone","formControlName","phone",1,"mt-1","block","w-full","rounded-md","border-gray-300","shadow-sm","focus:border-blue-500","focus:ring-blue-500","dark:bg-gray-700","dark:border-gray-600","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["for","birth_date",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","date","id","birth_date","formControlName","birth_date",1,"mt-1","block","w-full","rounded-md","border-gray-300","shadow-sm","focus:border-blue-500","focus:ring-blue-500","dark:bg-gray-700","dark:border-gray-600","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["for","country",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","text","id","country","formControlName","country",1,"mt-1","block","w-full","rounded-md","border-gray-300","shadow-sm","focus:border-blue-500","focus:ring-blue-500","dark:bg-gray-700","dark:border-gray-600","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["for","address",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","text","id","address","formControlName","address",1,"mt-1","block","w-full","rounded-md","border-gray-300","shadow-sm","focus:border-blue-500","focus:ring-blue-500","dark:bg-gray-700","dark:border-gray-600","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["for","gender",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["id","gender","formControlName","gender",1,"mt-1","block","w-full","rounded-md","border-gray-300","shadow-sm","focus:border-blue-500","focus:ring-blue-500","dark:bg-gray-700","dark:border-gray-600","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],[3,"value",4,"ngFor","ngForOf"],["for","preferred_language",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["id","preferred_language","formControlName","preferred_language",1,"mt-1","block","w-full","rounded-md","border-gray-300","shadow-sm","focus:border-blue-500","focus:ring-blue-500","dark:bg-gray-700","dark:border-gray-600","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],[1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-2"],[1,"flex","items-start","space-x-6"],["class","h-24 w-24 rounded-md overflow-hidden bg-gray-100 dark:bg-gray-700 relative",4,"ngIf"],["class","h-24 w-24 rounded-md overflow-hidden bg-gray-100 dark:bg-gray-700",4,"ngIf"],["class","h-24 w-24 rounded-md flex items-center justify-center bg-gray-100 dark:bg-gray-700",4,"ngIf"],[1,"flex-1"],["type","file","id","foto_perfil","accept","image/*",1,"block","w-full","text-sm","text-gray-500","file:mr-4","file:py-2","file:px-4","file:rounded-full","file:border-0","file:text-sm","file:font-semibold","file:bg-blue-50","file:text-blue-700","hover:file:bg-blue-100","dark:text-gray-400","dark:file:bg-blue-900","dark:file:text-blue-200",3,"change"],[1,"mt-1","text-sm","text-gray-500","dark:text-gray-400"],["class","mt-3 flex space-x-2",4,"ngIf"],[1,"flex","justify-end","space-x-3"],["type","button",1,"inline-flex","justify-center","py-2","px-4","border","border-gray-300","shadow-sm","text-sm","font-medium","rounded-md","text-gray-700","bg-white","hover:bg-gray-50","dark:border-gray-600","dark:bg-gray-700","dark:text-gray-200","dark:hover:bg-gray-600","focus:outline-none","transition-colors","duration-300",3,"click"],["type","submit",1,"inline-flex","justify-center","py-2","px-4","border","border-transparent","shadow-sm","text-sm","font-medium","rounded-md","text-white","bg-blue-600","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500","dark:bg-blue-700","dark:hover:bg-blue-800","transition-colors","duration-300",3,"disabled"],["class","mr-2 inline-block h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent",4,"ngIf"],[1,"rounded-md","bg-red-50","dark:bg-red-900","p-4","mb-4"],[1,"flex"],[1,"flex-shrink-0"],["viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5","text-red-400"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule","evenodd"],[1,"ml-3"],[1,"text-sm","font-medium","text-red-800","dark:text-red-200"],[1,"rounded-md","bg-green-50","dark:bg-green-900","p-4","mb-4"],["viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5","text-green-400"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule","evenodd"],[1,"text-sm","font-medium","text-green-800","dark:text-green-200"],[1,"mt-1","text-sm","text-red-600","dark:text-red-400"],[3,"value"],[1,"h-24","w-24","rounded-md","overflow-hidden","bg-gray-100","dark:bg-gray-700","relative"],["alt","Vista previa",1,"h-full","w-full","object-cover",3,"src"],[1,"absolute","top-0","right-0","bg-blue-500","text-white","text-xs","px-1","rounded-bl"],[1,"h-24","w-24","rounded-md","overflow-hidden","bg-gray-100","dark:bg-gray-700"],[1,"h-24","w-24","rounded-md","flex","items-center","justify-center","bg-gray-100","dark:bg-gray-700"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-12","w-12","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"],[1,"mt-3","flex","space-x-2"],["type","button",1,"px-3","py-1","text-sm","bg-green-600","text-white","rounded","hover:bg-green-700","transition-colors",3,"click"],["type","button",1,"px-3","py-1","text-sm","bg-gray-600","text-white","rounded","hover:bg-gray-700","transition-colors",3,"click"],[1,"mr-2","inline-block","h-4","w-4","animate-spin","rounded-full","border-2","border-white","border-t-transparent"],[1,"space-y-6"],[1,"bg-blue-50","dark:bg-blue-900","rounded-md","p-4","text-blue-600","dark:text-blue-200","text-sm"],[1,"border-t","border-b","border-gray-200","dark:border-gray-700","py-5","space-y-4"],[1,"flex","justify-between","items-center"],[1,"text-lg","font-medium","text-gray-900","dark:text-white"],[1,"text-sm","text-gray-500","dark:text-gray-400"],["class","px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",4,"ngIf"],["type","button","class","inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none dark:bg-blue-700 dark:hover:bg-blue-800",4,"ngIf"],[1,"px-3","py-1","inline-flex","text-xs","leading-5","font-semibold","rounded-full","bg-gray-100","text-gray-800","dark:bg-gray-700","dark:text-gray-200"],["type","button",1,"inline-flex","items-center","px-4","py-2","border","border-gray-300","shadow-sm","text-sm","font-medium","rounded-md","text-gray-700","bg-white","hover:bg-gray-50","focus:outline-none","dark:border-gray-600","dark:bg-gray-700","dark:text-gray-200","dark:hover:bg-gray-600"],[1,"px-3","py-1","inline-flex","text-xs","leading-5","font-semibold","rounded-full","bg-green-100","text-green-800","dark:bg-green-900","dark:text-green-200"],["type","button",1,"inline-flex","items-center","px-4","py-2","border","border-transparent","text-sm","font-medium","rounded-md","shadow-sm","text-white","bg-blue-600","hover:bg-blue-700","focus:outline-none","dark:bg-blue-700","dark:hover:bg-blue-800"],[1,"bg-gray-50","dark:bg-gray-700","p-4","rounded-md"],[1,"text-lg","font-medium","text-gray-900","dark:text-white","mb-4"],["class","space-y-4",4,"ngIf"],["class","text-center py-6",4,"ngIf"],[1,"space-y-4"],["class","bg-white dark:bg-gray-800 rounded-md shadow-sm p-4 border border-gray-100 dark:border-gray-700",4,"ngFor","ngForOf"],[1,"bg-white","dark:bg-gray-800","rounded-md","shadow-sm","p-4","border","border-gray-100","dark:border-gray-700"],[1,"flex","items-center"],[1,"h-10","w-10","rounded-full","bg-blue-100","dark:bg-blue-900","flex","items-center","justify-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6","text-blue-600","dark:text-blue-300"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"],[1,"ml-4"],["class","mt-4",4,"ngIf"],[1,"mt-4"],[1,"text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-2"],[1,"flex","flex-wrap","gap-2"],["class","inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",4,"ngFor","ngForOf"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium","bg-green-100","text-green-800","dark:bg-green-900","dark:text-green-200"],[1,"text-center","py-6"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"mx-auto","h-12","w-12","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"mt-2","text-sm","font-medium","text-gray-900","dark:text-white"]],template:function(e,o){if(e&1&&(r(0,"div",0)(1,"div",1),m(2,"div",2),r(3,"div",3)(4,"div",4)(5,"div",5),u(6,J,2,1,"div",6)(7,W,2,1,"div",7),t()(),r(8,"div",8)(9,"div")(10,"h1",9),a(11),t(),r(12,"p",10),a(13),t(),r(14,"div",11),g(),r(15,"svg",12),m(16,"path",13),t(),x(),r(17,"span"),a(18),t()()(),r(19,"div",14)(20,"button",15),p("click",function(){return o.toggleDarkMode()}),u(21,K,2,0,"svg",16)(22,Q,2,0,"svg",17),a(23),t(),r(24,"a",18),g(),r(25,"svg",19),m(26,"path",20),t(),a(27," Ir al Dashboard "),t()()(),x(),r(28,"div",21)(29,"nav",22)(30,"button",23),p("click",function(){return o.setActiveTab("personal")}),a(31," Informaci\xF3n Personal "),t(),r(32,"button",23),p("click",function(){return o.setActiveTab("security")}),a(33," Seguridad "),t(),r(34,"button",23),p("click",function(){return o.setActiveTab("roles")}),a(35," Roles y Permisos "),t()()()()(),r(36,"div",24),u(37,X,2,0,"div",25)(38,me,62,15,"div",26)(39,ge,28,2,"div",27)(40,we,6,2,"div",27),t()()),e&2){let s;l(6),d("ngIf",o.user==null?null:o.user.foto_perfil),l(),d("ngIf",!(o.user!=null&&o.user.foto_perfil)),l(4),f((o.user==null?null:o.user.name)||"Cargando..."),l(2),f(o.user==null?null:o.user.email),l(5),y("\xDAltima actividad: ",o.formatDate((s=o.user==null?null:o.user.last_login)!==null&&s!==void 0?s:null),""),l(3),d("ngIf",!o.isDarkMode()),l(),d("ngIf",o.isDarkMode()),l(),y(" ",o.isDarkMode()?"Modo claro":"Modo oscuro"," "),l(7),d("ngClass",o.activeTab==="personal"?"border-blue-500 text-blue-600 dark:border-blue-400 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300 dark:hover:border-gray-500"),l(2),d("ngClass",o.activeTab==="security"?"border-blue-500 text-blue-600 dark:border-blue-400 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300 dark:hover:border-gray-500"),l(2),d("ngClass",o.activeTab==="roles"?"border-blue-500 text-blue-600 dark:border-blue-400 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300 dark:hover:border-gray-500"),l(3),d("ngIf",o.loading),l(),d("ngIf",!o.loading&&o.activeTab==="personal"),l(),d("ngIf",!o.loading&&o.activeTab==="security"),l(),d("ngIf",!o.loading&&o.activeTab==="roles")}},dependencies:[O,M,T,F,q,A,R,H,N,B,D,U,G,L,V],styles:[".form-label[_ngcontent-%COMP%]{display:block;font-size:.875rem;line-height:1.25rem;font-weight:500;--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity, 1))}.form-label[_ngcontent-%COMP%]:is(.dark *){--tw-text-opacity: 1;color:rgb(209 213 219 / var(--tw-text-opacity, 1))}.form-input[_ngcontent-%COMP%]{margin-top:.25rem;display:block;width:100%;border-radius:.375rem;--tw-border-opacity: 1;border-color:rgb(209 213 219 / var(--tw-border-opacity, 1));--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.form-input[_ngcontent-%COMP%]:focus{--tw-border-opacity: 1;border-color:rgb(59 130 246 / var(--tw-border-opacity, 1));--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity, 1))}.form-input[_ngcontent-%COMP%]:is(.dark *){--tw-border-opacity: 1;border-color:rgb(75 85 99 / var(--tw-border-opacity, 1));--tw-bg-opacity: 1;background-color:rgb(55 65 81 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.form-input[_ngcontent-%COMP%]:focus:is(.dark *){--tw-border-opacity: 1;border-color:rgb(59 130 246 / var(--tw-border-opacity, 1));--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity, 1))}.form-error[_ngcontent-%COMP%]{margin-top:.25rem;font-size:.875rem;line-height:1.25rem;--tw-text-opacity: 1;color:rgb(220 38 38 / var(--tw-text-opacity, 1))}.form-error[_ngcontent-%COMP%]:is(.dark *){--tw-text-opacity: 1;color:rgb(248 113 113 / var(--tw-text-opacity, 1))}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.card[_ngcontent-%COMP%]{overflow:hidden;border-radius:.5rem;--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1));--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow);transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.3s}.card[_ngcontent-%COMP%]:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity, 1))}.card[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .4s ease-out}.btn-primary[_ngcontent-%COMP%]{display:inline-flex;justify-content:center;border-radius:.375rem;border-width:1px;border-color:transparent;--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity, 1));padding:.5rem 1rem;font-size:.875rem;line-height:1.25rem;font-weight:500;--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1));--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow);transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.3s}.btn-primary[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(29 78 216 / var(--tw-bg-opacity, 1))}.btn-primary[_ngcontent-%COMP%]:focus{outline:2px solid transparent;outline-offset:2px;--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000);--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity, 1));--tw-ring-offset-width: 2px}.btn-primary[_ngcontent-%COMP%]:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(29 78 216 / var(--tw-bg-opacity, 1))}.btn-primary[_ngcontent-%COMP%]:hover:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(30 64 175 / var(--tw-bg-opacity, 1))}.btn-secondary[_ngcontent-%COMP%]{display:inline-flex;justify-content:center;border-radius:.375rem;border-width:1px;--tw-border-opacity: 1;border-color:rgb(209 213 219 / var(--tw-border-opacity, 1));--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1));padding:.5rem 1rem;font-size:.875rem;line-height:1.25rem;font-weight:500;--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity, 1));--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow);transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.3s}.btn-secondary[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(249 250 251 / var(--tw-bg-opacity, 1))}.btn-secondary[_ngcontent-%COMP%]:focus{outline:2px solid transparent;outline-offset:2px}.btn-secondary[_ngcontent-%COMP%]:is(.dark *){--tw-border-opacity: 1;border-color:rgb(75 85 99 / var(--tw-border-opacity, 1));--tw-bg-opacity: 1;background-color:rgb(55 65 81 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(229 231 235 / var(--tw-text-opacity, 1))}.btn-secondary[_ngcontent-%COMP%]:hover:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(75 85 99 / var(--tw-bg-opacity, 1))}@media (max-width: 640px){.card[_ngcontent-%COMP%]{padding:1rem}}"]})};var ze=[{path:"",component:C,title:"Mi perfil"}];export{ze as PROFILE_ROUTES,C as ProfileComponent};
