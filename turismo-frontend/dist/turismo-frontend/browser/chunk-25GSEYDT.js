import{a as B}from"./chunk-2AOXUUAG.js";import{d as L,g as F,l as G}from"./chunk-XR3SD2KY.js";import{Cc as V,Dc as H,Gb as r,Hb as c,Hc as j,Ib as v,La as n,Pb as h,Tb as y,Va as E,Xb as _,Yb as I,Zb as M,_ as g,_a as x,fb as m,ga as f,ha as k,ia as l,ja as s,ob as e,pb as t,qb as d,tb as w,ub as S,uc as C,vb as b,vc as D,wc as T}from"./chunk-ETYZCZA5.js";import"./chunk-4CLCTAJ7.js";var O=()=>["../servicios"],A=()=>["../reservas"],z=()=>["../planes"],N=()=>["../calendario"],P=(a,o,i,p)=>({"bg-yellow-500/20 text-yellow-300":a,"bg-green-500/20 text-green-300":o,"bg-red-500/20 text-red-300":i,"bg-blue-500/20 text-blue-300":p});function $(a,o){a&1&&(e(0,"div",3)(1,"div",4),d(2,"div",5)(3,"div",6),t()())}function q(a,o){if(a&1){let i=w();e(0,"div",7)(1,"div",8),l(),e(2,"svg",9),d(3,"path",10),t()(),s(),e(4,"h3",11),r(5,"Error al cargar el dashboard"),t(),e(6,"p",12),r(7),t(),e(8,"button",13),S("click",function(){f(i);let u=b();return k(u.loadDashboard())}),r(9," Reintentar "),t()()}if(a&2){let i=b();n(7),c(i.error)}}function J(a,o){a&1&&(l(),e(0,"svg",69),d(1,"path",70),t())}function K(a,o){a&1&&d(0,"div",71)}function Q(a,o){if(a&1&&(e(0,"div",72)(1,"div",73)(2,"h4",74),r(3),t(),e(4,"div",75)(5,"span",76),r(6),t(),e(7,"span",77),r(8),t()()(),e(9,"div",78)(10,"div",79)(11,"span",80),r(12),t()()()()),a&2){let i=o.$implicit;n(3),c(i.servicio.nombre),n(3),v(" ",i.total_reservas," reservas "),n(2),v(" S/ ",i.ingresos_generados," "),n(4),c(i.total_reservas)}}function U(a,o){a&1&&(e(0,"div",81),l(),e(1,"svg",82),d(2,"path",83),t(),s(),e(3,"p"),r(4,"No hay datos de servicios a\xFAn"),t()())}function W(a,o){if(a&1&&(e(0,"div",84)(1,"div",85)(2,"div",86)(3,"div",87),l(),e(4,"svg",88),d(5,"path",89),t()(),s(),e(6,"div")(7,"div",90)(8,"h4",91),r(9),t(),e(10,"span",92),r(11),_(12,"titlecase"),t()(),e(13,"p",93),r(14),t(),e(15,"p",94),r(16),_(17,"date"),t()()(),e(18,"div",95)(19,"p",96),r(20),t()()()()),a&2){let i=o.$implicit;n(9),c(i.codigo_reserva),n(),m("ngClass",y(11,P,i.estado==="pendiente",i.estado==="confirmada",i.estado==="cancelada",i.estado==="completada")),n(),v(" ",I(12,6,i.estado)," "),n(3),v(" Cliente: ",i.usuario.name," "),n(2),v(" ",M(17,8,i.created_at,"dd/MM/yyyy HH:mm")," "),n(4),v("",i.servicios.length," servicios")}}function X(a,o){a&1&&(e(0,"div",81),l(),e(1,"svg",82),d(2,"path",28),t(),s(),e(3,"p"),r(4,"No hay reservas pr\xF3ximas"),t()())}function Y(a,o){a&1&&(e(0,"div",97)(1,"a",98),r(2," Ver todas las reservas "),t()()),a&2&&(n(),m("routerLink",h(1,A)))}function Z(a,o){if(a&1){let i=w();e(0,"div",14)(1,"div",15)(2,"div")(3,"h1",16),r(4," Dashboard "),t(),e(5,"p",17),r(6," Resumen de actividad y estad\xEDsticas de tu emprendimiento "),t()(),e(7,"button",18),S("click",function(){f(i);let u=b();return k(u.refreshData())}),x(8,J,2,0,"svg",19)(9,K,1,0,"div",20),e(10,"span",21),r(11,"Actualizar"),t()()(),e(12,"div",22)(13,"div",23)(14,"div",15)(15,"div")(16,"p",24),r(17,"Reservas Hoy"),t(),e(18,"p",25),r(19),t()(),e(20,"div",26),l(),e(21,"svg",27),d(22,"path",28),t()()()(),s(),e(23,"div",23)(24,"div",15)(25,"div")(26,"p",24),r(27,"Pendientes"),t(),e(28,"p",25),r(29),t()(),e(30,"div",29),l(),e(31,"svg",27),d(32,"path",30),t()()()(),s(),e(33,"div",23)(34,"div",15)(35,"div")(36,"p",24),r(37,"Ingresos del Mes"),t(),e(38,"p",25),r(39),t()(),e(40,"div",31),l(),e(41,"svg",27),d(42,"path",32),t()()()(),s(),e(43,"div",23)(44,"div",15)(45,"div")(46,"p",24),r(47,"Servicios Activos"),t(),e(48,"p",25),r(49),t()(),e(50,"div",33),l(),e(51,"svg",27),d(52,"path",34),t()()()()(),s(),e(53,"div",35)(54,"div",36)(55,"div",37)(56,"h3",38),r(57,"Servicios M\xE1s Populares"),t(),e(58,"div",39),l(),e(59,"svg",40),d(60,"path",41),t()()(),s(),e(61,"div",42),x(62,Q,13,4,"div",43)(63,U,5,0,"div",44),t()(),e(64,"div",36)(65,"div",37)(66,"h3",38),r(67,"Pr\xF3ximas Reservas"),t(),e(68,"div",45),l(),e(69,"svg",40),d(70,"path",30),t()()(),s(),e(71,"div",42),x(72,W,21,16,"div",46)(73,X,5,0,"div",44),t(),x(74,Y,3,2,"div",47),t()(),e(75,"div",36)(76,"h3",48),r(77,"Acciones R\xE1pidas"),t(),e(78,"div",49)(79,"a",50)(80,"div",51),l(),e(81,"svg",27),d(82,"path",52),t()(),s(),e(83,"span",53),r(84,"Gestionar Servicios"),t()(),e(85,"a",50)(86,"div",54),l(),e(87,"svg",27),d(88,"path",28),t()(),s(),e(89,"span",53),r(90,"Ver Reservas"),t()(),e(91,"a",50)(92,"div",55),l(),e(93,"svg",27),d(94,"path",56),t()(),s(),e(95,"span",53),r(96,"Gestionar Planes"),t()(),e(97,"a",50)(98,"div",57),l(),e(99,"svg",27),d(100,"path",30),t()(),s(),e(101,"span",53),r(102,"Ver Calendario"),t()()()(),e(103,"div",36)(104,"h3",48),r(105,"Resumen General"),t(),e(106,"div",58)(107,"div",59)(108,"div",60),l(),e(109,"svg",61),d(110,"path",62),t()(),s(),e(111,"h4",63),r(112),t(),e(113,"p",64),r(114,"Total Confirmadas"),t()(),e(115,"div",59)(116,"div",65),l(),e(117,"svg",66),d(118,"path",32),t()(),s(),e(119,"h4",63),r(120),t(),e(121,"p",64),r(122,"Ingresos Mes Actual"),t()(),e(123,"div",59)(124,"div",67),l(),e(125,"svg",68),d(126,"path",34),t()(),s(),e(127,"h4",63),r(128),t(),e(129,"p",64),r(130,"Servicios Disponibles"),t()()()()()}if(a&2){let i=b();n(7),m("disabled",i.loading),n(),m("ngIf",!i.loading),n(),m("ngIf",i.loading),n(10),c(i.dashboard.reservas_hoy),n(10),c(i.dashboard.reservas_pendientes),n(10),v("S/ ",i.dashboard.ingresos_mes,""),n(10),c(i.dashboard.servicios_activos),n(13),m("ngForOf",i.dashboard.servicios_populares)("ngForTrackBy",i.trackByServicioId),n(),m("ngIf",i.dashboard.servicios_populares.length===0),n(9),m("ngForOf",i.dashboard.reservas_proximas)("ngForTrackBy",i.trackByReservaId),n(),m("ngIf",i.dashboard.reservas_proximas.length===0),n(),m("ngIf",i.dashboard.reservas_proximas.length>0),n(5),m("routerLink",h(21,O)),n(6),m("routerLink",h(22,A)),n(6),m("routerLink",h(23,z)),n(6),m("routerLink",h(24,N)),n(15),c(i.dashboard.total_reservas_confirmadas),n(8),v("S/ ",i.dashboard.ingresos_mes,""),n(8),c(i.dashboard.servicios_activos)}}var R=class a{emprendimientoAdminService=g(B);route=g(L);emprendimientoId;emprendimiento;dashboard;loading=!0;error="";ngOnInit(){this.route.parent?.paramMap.subscribe(o=>{let i=o.get("id");console.log("Dashboard - ID recibido:",i),i&&!isNaN(+i)?(this.emprendimientoId=+i,this.loadData()):console.error("Dashboard - ID inv\xE1lido:",i)})}loadData(){this.loadDashboard()}loadEmprendimiento(){this.emprendimientoAdminService.getEmprendimiento(this.emprendimientoId).subscribe({next:o=>{this.emprendimiento=o},error:o=>{console.error("Error al cargar emprendimiento:",o)}})}loadDashboard(){this.loading=!0,this.error="",this.emprendimientoAdminService.getDashboard(this.emprendimientoId).subscribe({next:o=>{this.dashboard=o,this.loading=!1},error:o=>{console.error("Error al cargar dashboard:",o),this.error=o.error?.message||"Error al cargar el dashboard",this.loading=!1}})}refreshData(){this.loadDashboard()}trackByServicioId(o,i){return i.servicio_id}trackByReservaId(o,i){return i.id}static \u0275fac=function(i){return new(i||a)};static \u0275cmp=E({type:a,selectors:[["app-emprendimiento-dashboard"]],decls:3,vars:3,consts:[["class","flex items-center justify-center h-64",4,"ngIf"],["class","text-center py-12",4,"ngIf"],["class","space-y-8",4,"ngIf"],[1,"flex","items-center","justify-center","h-64"],[1,"relative"],[1,"w-16","h-16","border-4","border-orange-200/30","rounded-full"],[1,"w-16","h-16","border-4","border-orange-400","border-t-transparent","rounded-full","animate-spin","absolute","top-0"],[1,"text-center","py-12"],[1,"w-16","h-16","mx-auto","mb-4","rounded-2xl","bg-red-500/20","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","text-red-300"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"text-xl","font-semibold","text-white","mb-2"],[1,"text-slate-300","dark:text-slate-400","mb-4"],[1,"px-6","py-3","rounded-xl","bg-orange-500","hover:bg-orange-600","text-white","font-medium","transition-colors","duration-300",3,"click"],[1,"space-y-8"],[1,"flex","items-center","justify-between"],[1,"text-3xl","font-bold","bg-gradient-to-r","from-orange-400","via-orange-300","to-amber-300","bg-clip-text","text-transparent"],[1,"text-slate-300","dark:text-slate-400","mt-1"],[1,"group","flex","items-center","px-5","py-2.5","rounded-xl","bg-white/10","dark:bg-slate-800/60","text-white","hover:bg-white/20","dark:hover:bg-slate-700/80","transition-all","duration-300","shadow-lg","hover:shadow-xl","border","border-white/10","dark:border-slate-700/50","hover:border-white/20","dark:hover:border-slate-600/60","disabled:opacity-50",3,"click","disabled"],["class","h-5 w-5 mr-2 group-hover:rotate-180 transition-transform duration-500","fill","none","stroke","currentColor","viewBox","0 0 24 24",4,"ngIf"],["class","w-5 h-5 mr-2 animate-spin rounded-full border-2 border-white border-t-transparent",4,"ngIf"],[1,"font-medium"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-6"],[1,"backdrop-blur-sm","bg-white/10","dark:bg-slate-800/40","rounded-2xl","p-6","border","border-white/20","dark:border-slate-700/50","shadow-xl","hover:shadow-2xl","transition-all","duration-300","hover:bg-white/15","dark:hover:bg-slate-700/50"],[1,"text-slate-300","dark:text-slate-400","text-sm","font-medium","mb-1"],[1,"text-3xl","font-bold","text-white"],[1,"p-3","rounded-xl","bg-blue-500/20","text-blue-300"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"],[1,"p-3","rounded-xl","bg-yellow-500/20","text-yellow-300"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"p-3","rounded-xl","bg-green-500/20","text-green-300"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"],[1,"p-3","rounded-xl","bg-purple-500/20","text-purple-300"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-8"],[1,"backdrop-blur-sm","bg-white/10","dark:bg-slate-800/40","rounded-2xl","p-6","border","border-white/20","dark:border-slate-700/50","shadow-xl"],[1,"flex","items-center","justify-between","mb-6"],[1,"text-xl","font-semibold","text-white"],[1,"p-2","rounded-lg","bg-orange-500/20","text-orange-300"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"],[1,"space-y-4"],["class","flex items-center justify-between p-4 rounded-xl bg-white/5 dark:bg-slate-800/30 border border-white/10 dark:border-slate-700/30 hover:bg-white/10 dark:hover:bg-slate-700/40 transition-all duration-300",4,"ngFor","ngForOf","ngForTrackBy"],["class","text-center py-8 text-slate-400 dark:text-slate-500",4,"ngIf"],[1,"p-2","rounded-lg","bg-blue-500/20","text-blue-300"],["class","p-4 rounded-xl bg-white/5 dark:bg-slate-800/30 border border-white/10 dark:border-slate-700/30 hover:bg-white/10 dark:hover:bg-slate-700/40 transition-all duration-300",4,"ngFor","ngForOf","ngForTrackBy"],["class","mt-6",4,"ngIf"],[1,"text-xl","font-semibold","text-white","mb-6"],[1,"grid","grid-cols-2","md:grid-cols-4","gap-4"],[1,"group","flex","flex-col","items-center","p-4","rounded-xl","bg-white/5","dark:bg-slate-800/30","border","border-white/10","dark:border-slate-700/30","hover:bg-white/15","dark:hover:bg-slate-700/50","transition-all","duration-300","hover:shadow-lg",3,"routerLink"],[1,"p-3","rounded-xl","bg-blue-500/20","text-blue-300","mb-3","group-hover:scale-110","transition-transform","duration-300"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 6v6m0 0v6m0-6h6m-6 0H6"],[1,"text-white","font-medium","text-sm","text-center"],[1,"p-3","rounded-xl","bg-green-500/20","text-green-300","mb-3","group-hover:scale-110","transition-transform","duration-300"],[1,"p-3","rounded-xl","bg-purple-500/20","text-purple-300","mb-3","group-hover:scale-110","transition-transform","duration-300"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 11H5m14-4H5m14 8H5m14-4h.01"],[1,"p-3","rounded-xl","bg-orange-500/20","text-orange-300","mb-3","group-hover:scale-110","transition-transform","duration-300"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-6"],[1,"text-center"],[1,"w-16","h-16","mx-auto","mb-4","rounded-2xl","bg-gradient-to-br","from-blue-500/20","to-blue-600/20","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","text-blue-300"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"],[1,"text-2xl","font-bold","text-white","mb-1"],[1,"text-slate-300","dark:text-slate-400","text-sm"],[1,"w-16","h-16","mx-auto","mb-4","rounded-2xl","bg-gradient-to-br","from-green-500/20","to-green-600/20","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","text-green-300"],[1,"w-16","h-16","mx-auto","mb-4","rounded-2xl","bg-gradient-to-br","from-purple-500/20","to-purple-600/20","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","text-purple-300"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-5","w-5","mr-2","group-hover:rotate-180","transition-transform","duration-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"],[1,"w-5","h-5","mr-2","animate-spin","rounded-full","border-2","border-white","border-t-transparent"],[1,"flex","items-center","justify-between","p-4","rounded-xl","bg-white/5","dark:bg-slate-800/30","border","border-white/10","dark:border-slate-700/30","hover:bg-white/10","dark:hover:bg-slate-700/40","transition-all","duration-300"],[1,"flex-1"],[1,"text-white","font-medium","mb-1"],[1,"flex","items-center","gap-4","text-sm"],[1,"text-slate-300","dark:text-slate-400"],[1,"text-green-300","font-medium"],[1,"flex","items-center","gap-2"],[1,"w-12","h-12","rounded-xl","bg-gradient-to-br","from-orange-500/20","to-orange-600/20","flex","items-center","justify-center"],[1,"text-orange-300","font-bold"],[1,"text-center","py-8","text-slate-400","dark:text-slate-500"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-12","h-12","mx-auto","mb-4","opacity-50"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"],[1,"p-4","rounded-xl","bg-white/5","dark:bg-slate-800/30","border","border-white/10","dark:border-slate-700/30","hover:bg-white/10","dark:hover:bg-slate-700/40","transition-all","duration-300"],[1,"flex","items-start","justify-between"],[1,"flex","items-center","gap-3"],[1,"w-10","h-10","bg-orange-500/20","rounded-full","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-orange-300"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"],[1,"flex","items-center","gap-2","mb-1"],[1,"text-white","font-medium"],[1,"px-2","py-1","text-xs","rounded-full","font-medium",3,"ngClass"],[1,"text-slate-300","dark:text-slate-400","text-sm","mb-1"],[1,"text-slate-400","dark:text-slate-500","text-xs"],[1,"text-right"],[1,"text-white","font-medium","text-sm"],[1,"mt-6"],[1,"block","w-full","text-center","px-4","py-3","rounded-xl","bg-gradient-to-r","from-orange-500","to-orange-400","text-white","font-medium","hover:from-orange-600","hover:to-orange-500","transition-all","duration-300","shadow-lg","hover:shadow-xl",3,"routerLink"]],template:function(i,p){i&1&&x(0,$,4,0,"div",0)(1,q,10,1,"div",1)(2,Z,131,25,"div",2),i&2&&(m("ngIf",p.loading&&!p.dashboard),n(),m("ngIf",p.error&&!p.loading),n(),m("ngIf",!p.loading&&p.dashboard&&!p.error))},dependencies:[j,C,D,T,V,H,G,F],styles:["[_nghost-%COMP%]{display:block}*[_ngcontent-%COMP%]{transition-property:background-color,border-color,color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:background-color,border-color,color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:background-color,border-color,color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter}"]})};export{R as EmprendimientoDashboardComponent};
