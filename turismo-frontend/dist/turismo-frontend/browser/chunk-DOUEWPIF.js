import{a as I}from"./chunk-AJV6XJ6G.js";import{a as E}from"./chunk-JPXMOWFC.js";import{b as L,d as T,h as M,y as N}from"./chunk-DV54EIF6.js";import{Gb as s,Hb as y,Hc as w,Ib as v,La as m,Lb as S,Mb as _,Nb as P,Va as k,_ as g,_a as C,ia as p,ja as c,jb as b,mb as x,nb as f,ob as i,pb as n,qb as d,vb as h}from"./chunk-T2OCC6GX.js";import"./chunk-4CLCTAJ7.js";var D=(r,e)=>e.groupName,j=(r,e)=>e.id;function F(r,e){r&1&&(i(0,"div",12),d(1,"div",15),i(2,"span",16),s(3,"Cargando permisos..."),n()())}function z(r,e){r&1&&(i(0,"div",13),p(),i(1,"svg",17),d(2,"path",18),n(),c(),i(3,"h3",19),s(4,"No se encontraron permisos"),n(),i(5,"p",20),s(6,"No hay permisos disponibles en el sistema."),n()())}function B(r,e){if(r&1&&(i(0,"li",28),p(),i(1,"svg",29),d(2,"path",30),n(),c(),i(3,"div")(4,"span",24),s(5),n(),i(6,"p",31),s(7),n()()()),r&2){let t=e.$implicit;m(5),y(t.name),m(2),v("ID: ",t.id,"")}}function G(r,e){if(r&1&&(i(0,"div",22)(1,"div",23)(2,"h3",24),s(3),n(),i(4,"p",25),s(5),n()(),i(6,"div",26)(7,"ul",27),x(8,B,8,2,"li",28,j),n()()()),r&2){let t=e.$implicit,o=h(2);m(3),y(t.groupName),m(2),v("",t.permissions.length," permisos"),m(3),f(o.filterPermissions(t.permissions))}}function H(r,e){if(r&1&&(i(0,"div",14)(1,"div",21),x(2,G,10,2,"div",22,D),n()()),r&2){let t=h();m(2),f(t.getPermissionGroups())}}var u=class r{adminService=g(I);themeService=g(E);permissions=[];loading=!0;searchTerm="";ngOnInit(){this.loadPermissions()}loadPermissions(){this.loading=!0,this.adminService.getPermissions().subscribe({next:e=>{this.permissions=e,this.loading=!1},error:e=>{console.error("Error al cargar permisos:",e),this.loading=!1}})}getPermissionGroups(){let e=[],t={};return this.permissions.forEach(o=>{let a=o.name.split("_")[0];t[a]||(t[a]=[]),t[a].push(o)}),Object.keys(t).forEach(o=>{e.push({groupName:this.capitalizeFirstLetter(o),permissions:t[o].sort((l,a)=>l.name.localeCompare(a.name))})}),e.sort((o,l)=>o.groupName.localeCompare(l.groupName))}capitalizeFirstLetter(e){return e.charAt(0).toUpperCase()+e.slice(1)}filterPermissions(e){return this.searchTerm.trim()?e.filter(t=>t.name.toLowerCase().includes(this.searchTerm.toLowerCase())):e}isDarkMode(){return this.themeService.isDarkMode()}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=k({type:r,selectors:[["app-permission-list"]],decls:17,vars:2,consts:[[1,"space-y-6","transition-colors","duration-300"],[1,"flex","flex-col","sm:flex-row","sm:items-center","sm:justify-between"],[1,"text-2xl","font-bold","text-gray-900","dark:text-white","transition-colors","duration-300"],[1,"bg-white","dark:bg-gray-800","shadow-sm","rounded-lg","transition-colors","duration-300"],[1,"p-6"],[1,"text-sm","text-gray-600","dark:text-gray-300","transition-colors","duration-300"],[1,"mt-4"],[1,"relative","rounded-md","shadow-sm"],[1,"pointer-events-none","absolute","inset-y-0","left-0","flex","items-center","pl-3"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-5","w-5","text-gray-400","dark:text-gray-500","transition-colors","duration-300"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],["type","text","placeholder","Buscar permisos...",1,"py-2","block","w-full","rounded-md","border-gray-300","dark:border-gray-600","pl-10","focus:border-primary-500","focus:ring-primary-500","sm:text-sm","bg-white","dark:bg-gray-700","text-gray-900","dark:text-white","transition-colors","duration-300",3,"ngModelChange","ngModel"],[1,"flex","justify-center","items-center","p-8"],[1,"p-8","text-center"],[1,"px-6","pb-6"],[1,"inline-block","h-8","w-8","animate-spin","rounded-full","border-4","border-solid","border-primary-400","border-r-transparent"],[1,"ml-4","dark:text-white","transition-colors","duration-300"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"mx-auto","h-12","w-12","text-gray-400","dark:text-gray-500","transition-colors","duration-300"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"],[1,"mt-2","text-sm","font-medium","text-gray-900","dark:text-white","transition-colors","duration-300"],[1,"mt-1","text-sm","text-gray-500","dark:text-gray-400","transition-colors","duration-300"],[1,"grid","grid-cols-1","gap-6","md:grid-cols-2","lg:grid-cols-3"],[1,"border","border-gray-200","dark:border-gray-700","rounded-md","overflow-hidden","transition-colors","duration-300"],[1,"bg-gray-50","dark:bg-gray-700","px-4","py-3","border-b","border-gray-200","dark:border-gray-600","transition-colors","duration-300"],[1,"text-sm","font-medium","text-gray-900","dark:text-white","transition-colors","duration-300"],[1,"mt-1","text-xs","text-gray-500","dark:text-gray-400","transition-colors","duration-300"],[1,"p-4","bg-white","dark:bg-gray-800","transition-colors","duration-300"],[1,"space-y-2"],[1,"flex","items-start"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-5","w-5","text-primary-500","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"text-xs","text-gray-500","dark:text-gray-400","transition-colors","duration-300"]],template:function(t,o){t&1&&(i(0,"div",0)(1,"div",1)(2,"h1",2),s(3,"Permisos del Sistema"),n()(),i(4,"div",3)(5,"div",4)(6,"p",5),s(7," Los permisos son las acciones espec\xEDficas que los usuarios pueden realizar en el sistema. Estos permisos se asignan a roles, y los roles se asignan a usuarios. "),n(),i(8,"div",6)(9,"div",7)(10,"div",8),p(),i(11,"svg",9),d(12,"path",10),n()(),c(),i(13,"input",11),P("ngModelChange",function(a){return _(o.searchTerm,a)||(o.searchTerm=a),a}),n()()()(),C(14,F,4,0,"div",12)(15,z,7,0,"div",13)(16,H,4,0,"div",14),n()()),t&2&&(m(13),S("ngModel",o.searchTerm),m(),b(o.loading?14:o.getPermissionGroups().length===0?15:16))},dependencies:[w,N,L,T,M],encapsulation:2})};var Y=[{path:"",component:u,title:"Listado de Permisos"}];export{Y as PERMISSIONS_ROUTES};
