import{a as w}from"./chunk-LMROLFSP.js";import{a as C}from"./chunk-PYGBUVLC.js";import{g as E}from"./chunk-XR3SD2KY.js";import{Gb as r,Hb as m,Hc as _,Ib as s,La as d,Qb as S,Va as b,_ as g,_a as f,fb as k,ia as p,ja as u,jb as h,mb as x,nb as c,ob as e,pb as t,qb as l,vb as y}from"./chunk-ETYZCZA5.js";import"./chunk-4CLCTAJ7.js";var I=i=>["/admin/users/edit",i],T=(i,a)=>a.role,D=(i,a)=>a.id;function L(i,a){i&1&&(e(0,"div",27),l(1,"div",33),e(2,"span",34),r(3,"Cargando datos..."),t()())}function A(i,a){if(i&1&&(e(0,"div",35)(1,"div",4)(2,"span",36),r(3),t(),e(4,"span",37),r(5),t()()()),i&2){let n=a.$implicit;d(3),m(n.role),d(2),s(" ",n.count," usuarios ")}}function M(i,a){if(i&1&&(e(0,"div",28),x(1,A,6,2,"div",35,T),t()),i&2){let n=y();d(),c(n.summary==null?null:n.summary.users_by_role)}}function R(i,a){i&1&&(e(0,"p",29),r(1,"No hay datos disponibles."),t())}function j(i,a){i&1&&(e(0,"div",27),l(1,"div",33),e(2,"span",34),r(3,"Cargando usuarios..."),t()())}function H(i,a){if(i&1&&(e(0,"span",52),r(1),t()),i&2){let n=a.$implicit;d(),s(" ",n.name," ")}}function U(i,a){if(i&1&&(e(0,"tr",43)(1,"td",44)(2,"div",45)(3,"div",46)(4,"span",47),r(5),t()(),e(6,"div",48)(7,"div",49),r(8),t()()()(),e(9,"td",44)(10,"div",50),r(11),t()(),e(12,"td",44)(13,"div",51),x(14,H,2,1,"span",52,D),t()(),e(16,"td",53),r(17),t(),e(18,"td",54)(19,"div",55)(20,"a",56),p(),e(21,"svg",57),l(22,"path",58),t()()()()()),i&2){let n=a.$implicit,o=y(2);d(5),m(o.getUserInitials(n)),d(3),m(n.name),d(3),m(n.email),d(3),c(n.roles),d(3),s(" ",o.formatDate(n.created_at)," "),d(3),k("routerLink",S(5,I,n.id))}}function F(i,a){if(i&1&&(e(0,"div",32)(1,"table",38)(2,"thead",39)(3,"tr")(4,"th",40),r(5,"Nombre"),t(),e(6,"th",40),r(7,"Email"),t(),e(8,"th",40),r(9,"Roles"),t(),e(10,"th",40),r(11,"Fecha"),t(),e(12,"th",41),r(13,"Acciones"),t()()(),e(14,"tbody",42),x(15,U,23,7,"tr",43,D),t()()()),i&2){let n=y();d(15),c(n.summary==null?null:n.summary.recent_users)}}function N(i,a){i&1&&(e(0,"p",29),r(1,"No hay usuarios recientes."),t())}var v=class i{adminService=g(w);themeService=g(C);summary=null;loading=!0;ngOnInit(){this.loadDashboardData()}loadDashboardData(){this.loading=!0,this.adminService.getDashboardSummary().subscribe({next:a=>{this.summary=a,this.loading=!1},error:a=>{console.error("Error al cargar datos del dashboard:",a),this.loading=!1}})}getUserInitials(a){if(!a||!a.name)return"";let n=a.name.split(" ");return n.length===1?n[0].charAt(0).toUpperCase():(n[0].charAt(0)+n[1].charAt(0)).toUpperCase()}formatDate(a){return a?new Date(a).toLocaleDateString():""}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=b({type:i,selectors:[["app-dashboard"]],decls:73,vars:7,consts:[[1,"space-y-6"],[1,"text-2xl","font-bold","text-gray-900","dark:text-gray-100","lg:text-3xl"],[1,"grid","gap-4","sm:grid-cols-2","lg:grid-cols-4"],[1,"rounded-lg","bg-white","dark:bg-gray-800","p-6","shadow-sm","transition-colors","duration-200"],[1,"flex","items-center","justify-between"],[1,"text-sm","font-medium","text-gray-500","dark:text-gray-400"],[1,"text-3xl","font-bold","text-gray-900","dark:text-white"],[1,"rounded-full","bg-primary-100","dark:bg-primary-900/30","p-3","text-primary-600","dark:text-primary-400"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-6","w-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"],[1,"mt-4","flex","items-center"],[1,"text-sm","font-medium","text-green-600","dark:text-green-400"],[1,"mx-2","text-gray-500","dark:text-gray-400"],[1,"text-sm","font-medium","text-red-600","dark:text-red-400"],[1,"rounded-full","bg-blue-100","dark:bg-blue-900/30","p-3","text-blue-600","dark:text-blue-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"],[1,"mt-4"],["routerLink","/admin/roles",1,"text-sm","font-medium","text-primary-600","dark:text-primary-400","hover:text-primary-700","dark:hover:text-primary-300"],[1,"rounded-full","bg-purple-100","dark:bg-purple-900/30","p-3","text-purple-600","dark:text-purple-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"],["routerLink","/admin/permissions",1,"text-sm","font-medium","text-primary-600","dark:text-primary-400","hover:text-primary-700","dark:hover:text-primary-300"],[1,"flex","flex-col","h-full","justify-between"],[1,"mt-4","space-y-2"],["routerLink","/admin/users/create",1,"block","w-full","rounded-md","bg-primary-600","dark:bg-primary-700","px-4","py-2","text-center","text-sm","font-medium","text-white","hover:bg-primary-700","dark:hover:bg-primary-600","transition-colors","duration-200"],["routerLink","/admin/roles/create",1,"block","w-full","rounded-md","bg-white","dark:bg-gray-700","px-4","py-2","text-center","text-sm","font-medium","text-primary-700","dark:text-primary-400","border","border-primary-600","dark:border-primary-700","hover:bg-primary-50","dark:hover:bg-gray-600","transition-colors","duration-200"],[1,"text-lg","font-medium","text-gray-900","dark:text-white"],[1,"mt-4","space-y-4"],[1,"flex","justify-center","items-center","p-4"],[1,"grid","grid-cols-1","gap-4","sm:grid-cols-2","lg:grid-cols-4"],[1,"text-gray-500","dark:text-gray-400"],["routerLink","/admin/users",1,"text-sm","font-medium","text-primary-600","dark:text-primary-400","hover:text-primary-700","dark:hover:text-primary-300","transition-colors","duration-200"],[1,"mt-4","overflow-hidden"],[1,"overflow-x-auto"],[1,"inline-block","h-8","w-8","animate-spin","rounded-full","border-4","border-solid","border-primary-400","border-r-transparent","dark:border-primary-600"],[1,"ml-4","dark:text-gray-300"],[1,"rounded-lg","border","border-gray-200","dark:border-gray-700","p-4","transition-colors","duration-200"],[1,"text-sm","font-medium","text-gray-600","dark:text-gray-300"],[1,"rounded-full","bg-primary-100","dark:bg-primary-900/40","px-2.5","py-0.5","text-xs","font-medium","text-primary-800","dark:text-primary-300","transition-colors","duration-200"],[1,"min-w-full","divide-y","divide-gray-200","dark:divide-gray-700","transition-colors","duration-200"],[1,"bg-gray-50","dark:bg-gray-700"],["scope","col",1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","dark:text-gray-300","uppercase","tracking-wider"],["scope","col",1,"px-6","py-3","text-right","text-xs","font-medium","text-gray-500","dark:text-gray-300","uppercase","tracking-wider"],[1,"bg-white","dark:bg-gray-800","divide-y","divide-gray-200","dark:divide-gray-700"],[1,"hover:bg-gray-50","dark:hover:bg-gray-750","transition-colors","duration-150"],[1,"px-6","py-4","whitespace-nowrap"],[1,"flex","items-center"],[1,"h-8","w-8","rounded-full","bg-primary-100","dark:bg-primary-900/40","flex","items-center","justify-center"],[1,"text-primary-800","dark:text-primary-300","font-medium"],[1,"ml-4"],[1,"text-sm","font-medium","text-gray-900","dark:text-white"],[1,"text-sm","text-gray-900","dark:text-gray-300"],[1,"flex","flex-wrap","gap-1"],[1,"inline-flex","items-center","rounded-full","bg-blue-100","dark:bg-blue-900/40","px-2.5","py-0.5","text-xs","font-medium","text-blue-800","dark:text-blue-300","transition-colors","duration-200"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-gray-500","dark:text-gray-400"],[1,"px-6","py-4","whitespace-nowrap","text-right","text-sm","font-medium"],[1,"flex","items-center","justify-end","space-x-2"],["title","Editar",1,"text-primary-600","dark:text-primary-400","hover:text-primary-900","dark:hover:text-primary-300","transition-colors","duration-200",3,"routerLink"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-5","w-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"]],template:function(n,o){n&1&&(e(0,"div",0)(1,"h1",1),r(2,"Panel de Control"),t(),e(3,"div",2)(4,"div",3)(5,"div",4)(6,"div")(7,"p",5),r(8,"Usuarios Totales"),t(),e(9,"p",6),r(10),t()(),e(11,"div",7),p(),e(12,"svg",8),l(13,"path",9),t()()(),u(),e(14,"div",10)(15,"span",11),r(16),t(),e(17,"span",12),r(18,"|"),t(),e(19,"span",13),r(20),t()()(),e(21,"div",3)(22,"div",4)(23,"div")(24,"p",5),r(25,"Roles"),t(),e(26,"p",6),r(27),t()(),e(28,"div",14),p(),e(29,"svg",8),l(30,"path",15),t()()(),u(),e(31,"div",16)(32,"a",17),r(33," Ver todos los roles \u2192 "),t()()(),e(34,"div",3)(35,"div",4)(36,"div")(37,"p",5),r(38,"Permisos"),t(),e(39,"p",6),r(40),t()(),e(41,"div",18),p(),e(42,"svg",8),l(43,"path",19),t()()(),u(),e(44,"div",16)(45,"a",20),r(46," Ver todos los permisos \u2192 "),t()()(),e(47,"div",3)(48,"div",21)(49,"p",5),r(50,"Acciones R\xE1pidas"),t(),e(51,"div",22)(52,"a",23),r(53," Nuevo Usuario "),t(),e(54,"a",24),r(55," Nuevo Rol "),t()()()()(),e(56,"div",3)(57,"h2",25),r(58,"Usuarios por Rol"),t(),e(59,"div",26),f(60,L,4,0,"div",27)(61,M,3,0,"div",28)(62,R,2,0,"p",29),t()(),e(63,"div",3)(64,"div",4)(65,"h2",25),r(66,"Usuarios Recientes"),t(),e(67,"a",30),r(68," Ver todos \u2192 "),t()(),e(69,"div",31),f(70,j,4,0,"div",27)(71,F,17,0,"div",32)(72,N,2,0,"p",29),t()()()),n&2&&(d(10),m((o.summary==null?null:o.summary.total_users)||0),d(6),s(" ",(o.summary==null?null:o.summary.active_users)||0," activos "),d(4),s(" ",(o.summary==null?null:o.summary.inactive_users)||0," inactivos "),d(7),m((o.summary==null?null:o.summary.total_roles)||0),d(13),m((o.summary==null?null:o.summary.total_permissions)||0),d(20),h(o.loading?60:!(o.summary==null||o.summary.users_by_role==null)&&o.summary.users_by_role.length?61:62),d(10),h(o.loading?70:!(o.summary==null||o.summary.recent_users==null)&&o.summary.recent_users.length?71:72))},dependencies:[_,E],encapsulation:2})};var X=[{path:"",component:v,title:"Dashboard"}];export{X as DASHBOARD_ROUTES,v as DashboardComponent};
