import{Oc as p,Pc as d,Sc as m,U as l,_ as c,p as i}from"./chunk-T2OCC6GX.js";var u=class o{http=c(d);API_URL=m.apiUrl;constructor(){}getPlanes(n={}){let e=new p;return Object.keys(n).forEach(s=>{let a=n[s];a!=null&&a!==""&&(e=e.set(s,a.toString()))}),this.http.get(`${this.API_URL}/planes`,{params:e}).pipe(i(s=>s.data))}getPlan(n){return this.http.get(`${this.API_URL}/planes/${n}`).pipe(i(e=>e.data))}createPlan(n){let e=this.prepareFormData(n);return this.http.post(`${this.API_URL}/planes`,e).pipe(i(s=>s.data))}updatePlan(n,e){let s=this.prepareFormData(e);return s.append("_method","PUT"),this.http.post(`${this.API_URL}/planes/${n}`,s).pipe(i(a=>a.data))}deletePlan(n){return this.http.delete(`${this.API_URL}/planes/${n}`)}cambiarEstadoPlan(n,e){return this.http.patch(`${this.API_URL}/planes/${n}/estado`,{estado:e}).pipe(i(s=>s.data))}buscarPlanes(n,e={}){let s=new p().set("q",n);return Object.keys(e).forEach(a=>{let t=e[a];t!=null&&t!==""&&(s=s.set(a,t.toString()))}),this.http.get(`${this.API_URL}/planes/search`,{params:s}).pipe(i(a=>a.data||[]))}getEstadisticasPlan(n){return this.http.get(`${this.API_URL}/planes/${n}/estadisticas`).pipe(i(e=>e.data))}getEmprendedoresPlan(n){return this.http.get(`${this.API_URL}/planes/${n}/emprendedores`).pipe(i(e=>({data:e.data,meta:e.meta})))}agregarEmprendedorAPlan(n,e){return this.http.post(`${this.API_URL}/planes/${n}/emprendedores`,e).pipe(i(s=>s.data))}actualizarEmprendedorEnPlan(n,e,s){return this.http.put(`${this.API_URL}/planes/${n}/emprendedores/${e}`,s).pipe(i(a=>a.data))}removerEmprendedorDePlan(n,e){return this.http.delete(`${this.API_URL}/planes/${n}/emprendedores/${e}`)}cambiarOrganizadorPrincipal(n,e){return this.http.post(`${this.API_URL}/planes/${n}/emprendedores/cambiar-organizador`,{nuevo_organizador_id:e}).pipe(i(s=>s.data))}getEmprendedoresDisponibles(n){return this.http.get(`${this.API_URL}/planes/${n}/emprendedores/disponibles`).pipe(i(e=>e.data))}getPlanesEmprendedor(n,e,s=!1){let a=new p;return e&&(a=a.set("tipo_rol",e)),s&&(a=a.set("solo_activos","true")),this.http.get(`${this.API_URL}/emprendedores/${n}/planes`,{params:a}).pipe(i(t=>t.data))}getPlanEmprendedor(n,e){return this.http.get(`${this.API_URL}/emprendedores/${n}/planes/${e}`).pipe(i(s=>s.data))}getResumenPlanesEmprendedor(n){return this.http.get(`${this.API_URL}/emprendedores/${n}/planes-resumen`).pipe(i(e=>e.data))}getInscripcionesPlanEmprendedor(n,e,s={}){let a=new p;return Object.keys(s).forEach(t=>{let r=s[t];r!=null&&r!==""&&(a=a.set(t,r.toString()))}),this.http.get(`${this.API_URL}/emprendedores/${n}/planes/${e}/inscripciones`,{params:a}).pipe(i(t=>t.data))}confirmarInscripcionEmprendedor(n,e,s,a={}){return this.http.patch(`${this.API_URL}/emprendedores/${n}/planes/${e}/inscripciones/${s}/confirmar`,a).pipe(i(t=>t.data))}cancelarInscripcionEmprendedor(n,e,s,a={}){return this.http.patch(`${this.API_URL}/emprendedores/${n}/planes/${e}/inscripciones/${s}/cancelar`,a).pipe(i(t=>t.data))}getEstadisticasPlanEmprendedor(n,e){return this.http.get(`${this.API_URL}/emprendedores/${n}/planes/${e}/estadisticas`).pipe(i(s=>s.data))}getAllPlanesAdmin(n={}){let e=new p;return Object.keys(n).forEach(s=>{let a=n[s];a!=null&&a!==""&&(e=e.set(s,a.toString()))}),this.http.get(`${this.API_URL}/admin/planes/todos`,{params:e}).pipe(i(s=>s.data))}getEstadisticasGenerales(){return this.http.get(`${this.API_URL}/admin/planes/estadisticas-generales`).pipe(i(n=>n.data))}getAllInscripciones(n={}){let e=new p;return Object.keys(n).forEach(s=>{let a=n[s];a!=null&&a!==""&&(e=e.set(s,a.toString()))}),this.http.get(`${this.API_URL}/admin/planes/inscripciones/todas`,{params:e}).pipe(i(s=>s.data))}getMisInscripciones(n=1,e){let s=new p().set("page",n.toString());return e&&(s=s.set("estado",e)),this.http.get(`${this.API_URL}/inscripciones/mis-inscripciones`,{params:s}).pipe(i(a=>a.data))}getProximasInscripciones(n=30){let e=new p().set("dias",n.toString());return this.http.get(`${this.API_URL}/inscripciones/proximas`,{params:e}).pipe(i(s=>s.data||[]))}getInscripcionesEnProgreso(){return this.http.get(`${this.API_URL}/inscripciones/en-progreso`).pipe(i(n=>n.data||[]))}inscribirseAPlan(n){return this.http.post(`${this.API_URL}/inscripciones`,n).pipe(i(e=>e.data))}getInscripcion(n){return this.http.get(`${this.API_URL}/inscripciones/${n}`).pipe(i(e=>e.data))}updateInscripcion(n,e){return this.http.put(`${this.API_URL}/inscripciones/${n}`,e).pipe(i(s=>s.data))}cancelarInscripcion(n,e){let s=e?{motivo_cancelacion:e}:{};return this.http.patch(`${this.API_URL}/inscripciones/${n}/cancelar`,s).pipe(i(a=>a.data))}marcarCompletada(n,e){let s=e?{comentarios_finales:e}:{};return this.http.patch(`${this.API_URL}/inscripciones/${n}/completar`,s).pipe(i(a=>a.data))}deleteInscripcion(n){return this.http.delete(`${this.API_URL}/inscripciones/${n}`)}getEmprendedoresParaPlanes(){return this.http.get(`${this.API_URL}/emprendedores`).pipe(i(n=>n.data||[]))}getServiciosEmprendedor(n){return this.http.get(`${this.API_URL}/emprendedores/${n}/servicios`).pipe(i(e=>e.data||[]))}getPlanesPublicos(n={}){let e=new p;return n.es_publico=!0,n.estado="activo",Object.keys(n).forEach(s=>{let a=n[s];a!=null&&a!==""&&(e=e.set(s,a.toString()))}),this.http.get(`${this.API_URL}/planes/publicos`,{params:e}).pipe(i(s=>s.data))}getPlanPublico(n){return this.http.get(`${this.API_URL}/planes/${n}`).pipe(i(e=>e.data))}buscarPlanesPublicos(n,e={}){let s=new p().set("q",n);return e.es_publico=!0,e.estado="activo",Object.keys(e).forEach(a=>{let t=e[a];t!=null&&t!==""&&(s=s.set(a,t.toString()))}),this.http.get(`${this.API_URL}/planes/publicos/search`,{params:s}).pipe(i(a=>a.data||[]))}getPlanesDestacados(n=6){let e=new p().set("limite",n.toString());return this.http.get(`${this.API_URL}/planes/destacados`,{params:e}).pipe(i(s=>s.data||[]))}getFiltrosDisponibles(){return this.http.get(`${this.API_URL}/planes/filtros-disponibles`).pipe(i(n=>n.data))}verificarDisponibilidadCupos(n,e=1){let s=new p().set("plan_id",n.toString()).set("numero_participantes",e.toString());return this.http.get(`${this.API_URL}/planes/verificar-cupos`,{params:s}).pipe(i(a=>a.data))}prepareFormData(n){let e=new FormData;return e.append("nombre",n.nombre),e.append("descripcion",n.descripcion),e.append("capacidad",n.capacidad.toString()),e.append("duracion_dias",n.duracion_dias.toString()),e.append("es_publico",n.es_publico?"1":"0"),e.append("estado",n.estado),e.append("dificultad",n.dificultad),n.que_incluye&&e.append("que_incluye",n.que_incluye),n.emprendedor_id&&e.append("emprendedor_id",n.emprendedor_id.toString()),n.precio_total&&e.append("precio_total",n.precio_total.toString()),n.requerimientos&&e.append("requerimientos",n.requerimientos),n.que_llevar&&e.append("que_llevar",n.que_llevar),n.emprendedores&&n.emprendedores.length>0&&n.emprendedores.forEach((s,a)=>{e.append(`emprendedores[${a}][emprendedor_id]`,s.emprendedor_id.toString()),e.append(`emprendedores[${a}][rol]`,s.rol),e.append(`emprendedores[${a}][es_organizador_principal]`,s.es_organizador_principal?"1":"0"),s.descripcion_participacion&&e.append(`emprendedores[${a}][descripcion_participacion]`,s.descripcion_participacion),s.porcentaje_ganancia!==void 0&&e.append(`emprendedores[${a}][porcentaje_ganancia]`,s.porcentaje_ganancia.toString())}),n.imagen_principal instanceof File&&e.append("imagen_principal",n.imagen_principal),n.imagenes_galeria&&n.imagenes_galeria.length>0&&n.imagenes_galeria.forEach((s,a)=>{s instanceof File&&e.append(`imagenes_galeria[${a}]`,s)}),n.dias&&n.dias.length>0&&n.dias.forEach((s,a)=>{e.append(`dias[${a}][numero_dia]`,s.numero_dia.toString()),e.append(`dias[${a}][titulo]`,s.titulo),e.append(`dias[${a}][descripcion]`,s.descripcion),s.hora_inicio&&e.append(`dias[${a}][hora_inicio]`,s.hora_inicio),s.hora_fin&&e.append(`dias[${a}][hora_fin]`,s.hora_fin),s.duracion_estimada_minutos&&e.append(`dias[${a}][duracion_estimada_minutos]`,s.duracion_estimada_minutos.toString()),s.notas_adicionales&&e.append(`dias[${a}][notas_adicionales]`,s.notas_adicionales),s.orden&&e.append(`dias[${a}][orden]`,s.orden.toString()),s.servicios&&s.servicios.length>0&&s.servicios.forEach((t,r)=>{e.append(`dias[${a}][servicios][${r}][servicio_id]`,t.servicio_id.toString()),t.hora_inicio&&e.append(`dias[${a}][servicios][${r}][hora_inicio]`,t.hora_inicio),t.hora_fin&&e.append(`dias[${a}][servicios][${r}][hora_fin]`,t.hora_fin),t.duracion_minutos&&e.append(`dias[${a}][servicios][${r}][duracion_minutos]`,t.duracion_minutos.toString()),t.notas&&e.append(`dias[${a}][servicios][${r}][notas]`,t.notas),t.orden&&e.append(`dias[${a}][servicios][${r}][orden]`,t.orden.toString()),t.es_opcional!==void 0&&e.append(`dias[${a}][servicios][${r}][es_opcional]`,t.es_opcional?"1":"0"),t.precio_adicional&&e.append(`dias[${a}][servicios][${r}][precio_adicional]`,t.precio_adicional.toString())})}),e}static \u0275fac=function(e){return new(e||o)};static \u0275prov=l({token:o,factory:o.\u0275fac,providedIn:"root"})};export{u as a};
