import{a as Y}from"./chunk-J5Q4PLQW.js";import{b as O,d as $,h as q,p as J,q as K,r as Q,y as X}from"./chunk-DV54EIF6.js";import{d as z,l as N}from"./chunk-ZI6AQ4XN.js";import{Cc as G,Dc as A,Fc as W,Gb as s,Hb as h,Hc as U,Ib as b,Jb as T,Kb as B,La as a,Lb as S,Mb as y,Nb as E,Rb as F,Va as D,Xb as C,Yb as L,Zb as k,_ as I,_a as f,fb as c,ga as _,ha as u,ia as v,ja as g,ob as t,pb as i,qb as m,tb as w,ub as x,uc as j,vb as l,vc as H,wc as P}from"./chunk-T2OCC6GX.js";import{a as M,b as R,d as V}from"./chunk-4CLCTAJ7.js";var ee=(r,n)=>({"bg-orange-500/20 text-orange-100 border border-orange-400/30":r,"bg-blue-500/20 text-blue-100 border border-blue-400/30":n});function te(r,n){r&1&&(t(0,"div",2)(1,"div",3),m(2,"div",4)(3,"div",5),i()())}function ie(r,n){r&1&&(v(),t(0,"svg",39),m(1,"path",40),i())}function ne(r,n){r&1&&m(0,"div",41)}function re(r,n){if(r&1){let e=w();t(0,"div",42)(1,"div",10),v(),t(2,"svg",43),m(3,"path",44),i(),g(),t(4,"div")(5,"h3",45),s(6,"Error al cargar las reservas"),i(),t(7,"p",46),s(8),i(),t(9,"button",47),x("click",function(){_(e);let o=l(2);return u(o.loadReservas())}),s(10," Reintentar "),i()()()()}if(r&2){let e=l(2);a(8),h(e.error)}}function ae(r,n){if(r&1){let e=w();t(0,"button",54),x("click",function(){_(e);let o=l(3);return u(o.clearFilters())}),s(1," Limpiar filtros "),i()}}function oe(r,n){if(r&1&&(t(0,"div",48),v(),t(1,"svg",49),m(2,"path",50),i(),g(),t(3,"h3",51),s(4,"No hay reservas"),i(),t(5,"p",52),s(6),i(),f(7,ae,2,0,"button",53),i()),r&2){let e=l(2);a(6),b(" ",e.hasActiveFilters()?"No se encontraron reservas con los filtros aplicados.":"A\xFAn no tienes reservas para este emprendimiento."," "),a(),c("ngIf",e.hasActiveFilters())}}function se(r,n){if(r&1&&(t(0,"div",19)(1,"div",18)(2,"div",10)(3,"div",55),v(),t(4,"svg",56),m(5,"path",57),i()(),g(),t(6,"div")(7,"p",58),s(8,"Total"),i(),t(9,"p",59),s(10),i()()()(),t(11,"div",18)(12,"div",10)(13,"div",60),v(),t(14,"svg",56),m(15,"path",61),i()(),g(),t(16,"div")(17,"p",58),s(18,"Pendientes"),i(),t(19,"p",59),s(20),i()()()(),t(21,"div",18)(22,"div",10)(23,"div",62),v(),t(24,"svg",56),m(25,"path",63),i()(),g(),t(26,"div")(27,"p",58),s(28,"Confirmadas"),i(),t(29,"p",59),s(30),i()()()(),t(31,"div",18)(32,"div",10)(33,"div",64),v(),t(34,"svg",56),m(35,"path",65),i()(),g(),t(36,"div")(37,"p",58),s(38,"Ingresos Total"),i(),t(39,"p",59),s(40),C(41,"number"),i()()()()()),r&2){let e=l(2);a(10),h(e.reservasData==null?null:e.reservasData.total),a(10),h(e.getReservasByEstado("pendiente").length),a(10),h(e.getReservasByEstado("confirmada").length),a(10),b("S/ ",k(41,4,e.calculateTotalIngresos(),"1.2-2"),"")}}function de(r,n){if(r&1&&(t(0,"span",85),s(1),i()),r&2){let e=l().$implicit,d=l(3);a(),b(" ",d.getUnreadMessagesCount(e.id)," ")}}function le(r,n){if(r&1&&(t(0,"div",99)(1,"div",100)(2,"p",101),s(3),i(),t(4,"p",102),s(5),C(6,"date"),i()()()),r&2){let e=n.$implicit;c("ngClass",e.sender==="emprendedor"?"justify-end":"justify-start"),a(),c("ngClass",F(7,ee,e.sender==="emprendedor",e.sender==="cliente")),a(2),h(e.message),a(2),h(k(6,4,e.timestamp,"short"))}}function ce(r,n){r&1&&(t(0,"div",103),v(),t(1,"svg",104),m(2,"path",105),i(),g(),t(3,"p",101),s(4,"No hay mensajes a\xFAn"),i(),t(5,"p",106),s(6,"Inicia una conversaci\xF3n con el cliente"),i()())}function me(r,n){if(r&1){let e=w();t(0,"div",86)(1,"div",82)(2,"div",87)(3,"div",88),v(),t(4,"svg",89),m(5,"path",77),i()(),g(),t(6,"h4",74),s(7),i(),t(8,"button",90),x("click",function(){_(e);let o=l(4);return u(o.toggleChat(0))}),v(),t(9,"svg",89),m(10,"path",91),i()()(),g(),t(11,"div",92),f(12,le,7,10,"div",93)(13,ce,7,0,"div",94),i(),t(14,"div",95)(15,"input",96),E("ngModelChange",function(o){_(e);let p=l(4);return y(p.newMessage,o)||(p.newMessage=o),u(o)}),x("keyup.enter",function(){_(e);let o=l().$implicit,p=l(3);return u(p.sendMessage(o.id))}),i(),t(16,"button",97),x("click",function(){_(e);let o=l().$implicit,p=l(3);return u(p.sendMessage(o.id))}),v(),t(17,"svg",89),m(18,"path",98),i()()()()()}if(r&2){let e=l().$implicit,d=l(3);a(7),b("Chat con ",e.usuario.name,""),a(5),c("ngForOf",d.getChatMessages(e.id)),a(),c("ngIf",d.getChatMessages(e.id).length===0),a(2),S("ngModel",d.newMessage),a(),c("disabled",!d.newMessage.trim())}}function pe(r,n){if(r&1&&(t(0,"div",129)(1,"span",130),v(),t(2,"svg",131),m(3,"path",73),i(),s(4," Notas del cliente: "),i(),g(),t(5,"p",132),s(6),i()()),r&2){let e=l().$implicit;a(6),h(e.notas_cliente)}}function ve(r,n){if(r&1&&(t(0,"div",133)(1,"span",134),v(),t(2,"svg",131),m(3,"path",135),i(),s(4," Notas del emprendedor: "),i(),g(),t(5,"p",136),s(6),i()()),r&2){let e=l().$implicit;a(6),h(e.notas_emprendedor)}}function _e(r,n){r&1&&(v(),t(0,"svg",140),m(1,"path",40),i())}function ue(r,n){r&1&&(v(),t(0,"svg",141),m(1,"path",142),i())}function ge(r,n){if(r&1){let e=w();t(0,"button",137),x("click",function(){_(e);let o=l().$implicit,p=l(5);return u(p.updateEstadoServicio(o,"confirmado"))}),f(1,_e,2,0,"svg",138)(2,ue,2,0,"svg",139),s(3),i()}if(r&2){let e=l().$implicit;c("disabled",e.updating),a(),c("ngIf",e.updating),a(),c("ngIf",!e.updating),a(),b(" ",e.updating?"Confirmando...":"Confirmar"," ")}}function xe(r,n){r&1&&(v(),t(0,"svg",140),m(1,"path",40),i())}function be(r,n){r&1&&(v(),t(0,"svg",141),m(1,"path",63),i())}function fe(r,n){if(r&1){let e=w();t(0,"button",143),x("click",function(){_(e);let o=l().$implicit,p=l(5);return u(p.updateEstadoServicio(o,"completado"))}),f(1,xe,2,0,"svg",138)(2,be,2,0,"svg",139),s(3),i()}if(r&2){let e=l().$implicit;c("disabled",e.updating),a(),c("ngIf",e.updating),a(),c("ngIf",!e.updating),a(),b(" ",e.updating?"Completando...":"Completar"," ")}}function he(r,n){r&1&&(v(),t(0,"svg",140),m(1,"path",40),i())}function we(r,n){r&1&&(v(),t(0,"svg",141),m(1,"path",91),i())}function Ce(r,n){if(r&1){let e=w();t(0,"button",144),x("click",function(){_(e);let o=l().$implicit,p=l(5);return u(p.updateEstadoServicio(o,"cancelado"))}),f(1,he,2,0,"svg",138)(2,we,2,0,"svg",139),s(3),i()}if(r&2){let e=l().$implicit;c("disabled",e.updating),a(),c("ngIf",e.updating),a(),c("ngIf",!e.updating),a(),b(" ",e.updating?"Cancelando...":"Cancelar"," ")}}function ke(r,n){if(r&1&&(t(0,"div",110)(1,"div",111)(2,"div",112)(3,"div",113)(4,"h5",114),s(5),i(),t(6,"span",79),s(7),C(8,"titlecase"),i()(),t(9,"div",115)(10,"div",116),v(),t(11,"svg",117),m(12,"path",118),i(),g(),t(13,"div")(14,"span",119),s(15,"Fecha:"),i(),t(16,"p",120),s(17),C(18,"date"),i()()(),t(19,"div",116),v(),t(20,"svg",117),m(21,"path",61),i(),g(),t(22,"div")(23,"span",119),s(24,"Horario:"),i(),t(25,"p",120),s(26),i()()(),t(27,"div",116),v(),t(28,"svg",121),m(29,"path",65),i(),g(),t(30,"div")(31,"span",119),s(32,"Precio:"),i(),t(33,"p",122),s(34),C(35,"number"),i()()()(),f(36,pe,7,1,"div",123)(37,ve,7,1,"div",124),i(),t(38,"div",125),f(39,ge,4,4,"button",126)(40,fe,4,4,"button",127)(41,Ce,4,4,"button",128),i()()()),r&2){let e=n.$implicit,d=l(5);a(5),b(" ",(e.servicio==null?null:e.servicio.nombre)||"Servicio"," "),a(),c("ngClass",d.getEstadoBadgeClass(e.estado)),a(),b(" ",L(8,12,e.estado)," "),a(10),b(" ",k(18,14,e.fecha_inicio,"mediumDate")," "),a(9),T(" ",e.hora_inicio," - ",e.hora_fin," "),a(8),b(" S/ ",k(35,17,e.precio,"1.2-2")," "),a(2),c("ngIf",e.notas_cliente),a(),c("ngIf",e.notas_emprendedor),a(2),c("ngIf",e.estado==="pendiente"),a(),c("ngIf",e.estado==="confirmado"),a(),c("ngIf",e.estado==="pendiente"||e.estado==="confirmado")}}function Se(r,n){if(r&1&&(t(0,"div",107)(1,"div",87)(2,"div",108),v(),t(3,"svg",89),m(4,"path",57),i()(),g(),t(5,"h4",74),s(6),i()(),f(7,ke,42,20,"div",109),i()),r&2){let e=l().$implicit,d=l(3);a(6),b(" Servicios Reservados (",e.servicios.length,") "),a(),c("ngForOf",e.servicios)("ngForTrackBy",d.trackByServicioReserva)}}function ye(r,n){if(r&1&&(t(0,"div",145)(1,"div",146)(2,"span",147),v(),t(3,"svg",131),m(4,"path",148),i(),s(5," Notas de la reserva: "),i(),g(),t(6,"p",149),s(7),i()()()),r&2){let e=l().$implicit;a(7),h(e.notas)}}function Ee(r,n){if(r&1){let e=w();t(0,"div",68)(1,"div",69)(2,"div",7)(3,"div",70)(4,"div",71),v(),t(5,"svg",72),m(6,"path",73),i()(),g(),t(7,"div")(8,"h3",74),s(9),i(),t(10,"p",75),s(11),i()()(),t(12,"div",70)(13,"button",76),x("click",function(){let o=_(e).$implicit,p=l(3);return u(p.toggleChat(o.id))}),v(),t(14,"svg",12),m(15,"path",77),i(),g(),t(16,"span",14),s(17,"Chat"),i(),f(18,de,2,1,"span",78),i(),t(19,"span",79),s(20),C(21,"titlecase"),i(),t(22,"span",80),s(23),C(24,"date"),i()()()(),f(25,me,19,5,"div",81),t(26,"div",82),f(27,Se,8,3,"div",83)(28,ye,8,1,"div",84),i()()}if(r&2){let e=n.$implicit,d=l(3);a(9),h(e.usuario.name||"Usuario"),a(2),b("C\xF3digo: ",e.codigo_reserva,""),a(7),c("ngIf",d.getUnreadMessagesCount(e.id)>0),a(),c("ngClass",d.getEstadoBadgeClass(e.estado)),a(),b(" ",L(21,9,e.estado)," "),a(3),b(" ",k(24,11,e.created_at,"short")," "),a(2),c("ngIf",d.activeChatReserva===e.id),a(2),c("ngIf",e.servicios&&e.servicios.length>0),a(),c("ngIf",e.notas)}}function Me(r,n){if(r&1&&(t(0,"div",66),f(1,Ee,29,14,"div",67),i()),r&2){let e=l(2);a(),c("ngForOf",e.reservasData==null?null:e.reservasData.data)("ngForTrackBy",e.trackByReserva)}}function Re(r,n){if(r&1){let e=w();t(0,"div",150)(1,"div",75),s(2),i(),t(3,"div",10)(4,"button",151),x("click",function(){_(e);let o=l(2);return u(o.loadPage(o.currentPage-1))}),s(5," Anterior "),i(),t(6,"span",152),s(7),i(),t(8,"button",151),x("click",function(){_(e);let o=l(2);return u(o.loadPage(o.currentPage+1))}),s(9," Siguiente "),i()()()}if(r&2){let e=l(2);a(2),B(" Mostrando ",e.reservasData.from," a ",e.reservasData.to," de ",e.reservasData.total," reservas "),a(2),c("disabled",e.currentPage<=1||e.loading),a(3),T(" P\xE1gina ",e.currentPage," de ",e.reservasData.last_page," "),a(),c("disabled",e.currentPage>=(e.reservasData.last_page||1)||e.loading)}}function Ve(r,n){if(r&1){let e=w();t(0,"div",6)(1,"div",7)(2,"div")(3,"h1",8),s(4," Reservas "),i(),t(5,"p",9),s(6),i()(),t(7,"div",10)(8,"button",11),x("click",function(){_(e);let o=l();return u(o.exportToCSV())}),v(),t(9,"svg",12),m(10,"path",13),i(),g(),t(11,"span",14),s(12,"Exportar CSV"),i()(),t(13,"button",15),x("click",function(){_(e);let o=l();return u(o.refreshData())}),f(14,ie,2,0,"svg",16)(15,ne,1,0,"div",17),t(16,"span",14),s(17,"Actualizar"),i()()()(),t(18,"div",18)(19,"div",19)(20,"div",20)(21,"label",21),s(22,"Estado"),i(),t(23,"select",22),E("ngModelChange",function(o){_(e);let p=l();return y(p.filters.estado,o)||(p.filters.estado=o),u(o)}),x("change",function(){_(e);let o=l();return u(o.applyFilters())}),t(24,"option",23),s(25,"Todos"),i(),t(26,"option",24),s(27,"Pendiente"),i(),t(28,"option",25),s(29,"Confirmada"),i(),t(30,"option",26),s(31,"Cancelada"),i(),t(32,"option",27),s(33,"Completada"),i()()(),t(34,"div",20)(35,"label",28),s(36,"Fecha Desde"),i(),t(37,"input",29),E("ngModelChange",function(o){_(e);let p=l();return y(p.filters.fecha_inicio,o)||(p.filters.fecha_inicio=o),u(o)}),x("change",function(){_(e);let o=l();return u(o.applyFilters())}),i()(),t(38,"div",20)(39,"label",30),s(40,"Fecha Hasta"),i(),t(41,"input",31),E("ngModelChange",function(o){_(e);let p=l();return y(p.filters.fecha_fin,o)||(p.filters.fecha_fin=o),u(o)}),x("change",function(){_(e);let o=l();return u(o.applyFilters())}),i()(),t(42,"div",32)(43,"button",33),x("click",function(){_(e);let o=l();return u(o.clearFilters())}),s(44," Limpiar filtros "),i()()()(),f(45,re,11,1,"div",34)(46,oe,8,2,"div",35)(47,se,42,7,"div",36)(48,Me,2,2,"div",37)(49,Re,10,7,"div",38),i()}if(r&2){let e=l();a(6),b(" Administra todas las reservas de ",(e.emprendimiento==null?null:e.emprendimiento.nombre)||"tu emprendimiento"," "),a(2),c("disabled",e.loading||!(!(e.reservasData==null||e.reservasData.data==null)&&e.reservasData.data.length)),a(5),c("disabled",e.loading),a(),c("ngIf",!e.loading),a(),c("ngIf",e.loading),a(8),S("ngModel",e.filters.estado),a(14),S("ngModel",e.filters.fecha_inicio),a(4),S("ngModel",e.filters.fecha_fin),a(4),c("ngIf",e.error),a(),c("ngIf",!e.loading&&!e.error&&(!(e.reservasData!=null&&e.reservasData.data)||(e.reservasData==null||e.reservasData.data==null?null:e.reservasData.data.length)===0)),a(),c("ngIf",!e.loading&&!e.error&&(e.reservasData==null||e.reservasData.data==null?null:e.reservasData.data.length)),a(),c("ngIf",!e.loading&&!e.error&&(e.reservasData==null||e.reservasData.data==null?null:e.reservasData.data.length)),a(),c("ngIf",e.reservasData&&e.reservasData.last_page>1)}}var Z=class r{emprendimientoAdminService=I(Y);route=I(z);emprendimientoId;emprendimiento;reservasData;loading=!0;error="";currentPage=1;activeChatReserva=0;newMessage="";chatMessages={};filters={estado:"",fecha_inicio:"",fecha_fin:"",servicio_id:void 0,usuario_id:void 0};ngOnInit(){this.route.parent?.paramMap.subscribe(n=>{let e=n.get("id");console.log("Reservas - ID recibido:",e),e&&!isNaN(+e)?(this.emprendimientoId=+e,this.loadData(),this.initializeMockChatData()):(console.error("Reservas - ID inv\xE1lido:",e),this.error="ID de emprendimiento inv\xE1lido")})}loadData(){this.loadReservas()}loadReservas(n=1){this.loading=!0,this.error="",this.currentPage=n;let e=this.getActiveFilters();e.page=n,this.emprendimientoAdminService.filterReservas(this.emprendimientoId,e).subscribe({next:d=>{this.reservasData=R(M({},d),{data:d.data.map(o=>R(M({},o),{servicios:o.servicios.map(p=>R(M({},p),{updating:!1}))}))}),this.loading=!1},error:d=>{console.error("Error al cargar reservas:",d),this.error=d.error?.message||"Error al cargar las reservas",this.loading=!1}})}getActiveFilters(){let n={};return this.filters.estado&&(n.estado=this.filters.estado),this.filters.fecha_inicio&&(n.fecha_inicio=this.filters.fecha_inicio),this.filters.fecha_fin&&(n.fecha_fin=this.filters.fecha_fin),this.filters.servicio_id&&(n.servicio_id=this.filters.servicio_id),this.filters.usuario_id&&(n.usuario_id=this.filters.usuario_id),n}applyFilters(){this.currentPage=1,this.loadReservas(1)}clearFilters(){this.filters={estado:"",fecha_inicio:"",fecha_fin:"",servicio_id:void 0,usuario_id:void 0},this.applyFilters()}hasActiveFilters(){return!!(this.filters.estado||this.filters.fecha_inicio||this.filters.fecha_fin||this.filters.servicio_id||this.filters.usuario_id)}refreshData(){this.loadReservas(this.currentPage)}loadPage(n){n>=1&&n<=(this.reservasData?.last_page||1)&&this.loadReservas(n)}getEstadoBadgeClass(n){return{pendiente:"bg-yellow-500/20 text-yellow-300 border-yellow-400/30",confirmada:"bg-green-500/20 text-green-300 border-green-400/30",confirmado:"bg-green-500/20 text-green-300 border-green-400/30",cancelada:"bg-red-500/20 text-red-300 border-red-400/30",cancelado:"bg-red-500/20 text-red-300 border-red-400/30",completada:"bg-blue-500/20 text-blue-300 border-blue-400/30",completado:"bg-blue-500/20 text-blue-300 border-blue-400/30"}[n]||"bg-gray-500/20 text-gray-300 border-gray-400/30"}getReservasByEstado(n){return this.reservasData?.data?this.reservasData.data.filter(e=>e.estado===n):[]}calculateTotalIngresos(){return this.reservasData?.data?this.reservasData.data.reduce((n,e)=>{if(e.estado==="confirmada"||e.estado==="completada"){let d=e.servicios?.reduce((o,p)=>o+(parseFloat(p.precio.toString())||0),0)||0;return n+d}return n},0):0}updateEstadoServicio(n,e){return V(this,null,function*(){if(!(n.updating||!confirm(`\xBFEst\xE1s seguro de que quieres ${e==="confirmado"?"confirmar":e==="completado"?"completar":"cancelar"} este servicio?`))){n.updating=!0;try{let o={estado:e};yield this.emprendimientoAdminService.updateEstadoServicioReserva(n.id,o).toPromise(),n.estado=e,alert(`Servicio ${e==="confirmado"?"confirmado":e==="completado"?"completado":"cancelado"} correctamente`)}catch(o){console.error("Error al actualizar estado del servicio:",o),alert(o.error?.message||"Error al actualizar el estado del servicio")}finally{n.updating=!1}}})}exportToCSV(){return V(this,null,function*(){if(this.reservasData?.data?.length)try{let n=this.getActiveFilters(),e=yield this.emprendimientoAdminService.exportReservasCSV(this.emprendimientoId,n).toPromise();if(e){let d=window.URL.createObjectURL(e),o=document.createElement("a");o.href=d,o.download=`reservas-${this.emprendimiento?.nombre}-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(o),o.click(),document.body.removeChild(o),window.URL.revokeObjectURL(d)}}catch(n){console.error("Error al exportar CSV:",n),alert("Error al exportar los datos")}})}toggleChat(n){this.activeChatReserva=this.activeChatReserva===n?0:n,this.activeChatReserva===n&&this.markMessagesAsRead(n)}getChatMessages(n){return this.chatMessages[n]||[]}getUnreadMessagesCount(n){return(this.chatMessages[n]||[]).filter(d=>!d.read&&d.sender==="cliente").length}sendMessage(n){if(!this.newMessage.trim())return;this.chatMessages[n]||(this.chatMessages[n]=[]);let e={id:Date.now(),sender:"emprendedor",message:this.newMessage.trim(),timestamp:new Date,read:!0};this.chatMessages[n].push(e),this.newMessage="",setTimeout(()=>{let d={id:Date.now()+1,sender:"cliente",message:"Gracias por tu mensaje. Te responder\xE9 pronto.",timestamp:new Date,read:!1};this.chatMessages[n].push(d)},2e3)}markMessagesAsRead(n){this.chatMessages[n]&&this.chatMessages[n].forEach(e=>{e.sender==="cliente"&&(e.read=!0)})}initializeMockChatData(){this.chatMessages={1:[{id:1,sender:"cliente",message:"Hola, tengo una pregunta sobre mi reserva.",timestamp:new Date(Date.now()-36e5),read:!1},{id:2,sender:"emprendedor",message:"Hola! Claro, dime en qu\xE9 te puedo ayudar.",timestamp:new Date(Date.now()-33e5),read:!0},{id:3,sender:"cliente",message:"\xBFPuedo cambiar la hora de mi reserva?",timestamp:new Date(Date.now()-18e5),read:!1}]}}trackByReserva(n,e){return e.id}trackByServicioReserva(n,e){return e.id}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=D({type:r,selectors:[["app-reservas-list"]],decls:2,vars:2,consts:[["class","flex items-center justify-center h-64",4,"ngIf"],["class","space-y-8",4,"ngIf"],[1,"flex","items-center","justify-center","h-64"],[1,"relative"],[1,"w-16","h-16","border-4","border-orange-200/30","rounded-full"],[1,"w-16","h-16","border-4","border-orange-400","border-t-transparent","rounded-full","animate-spin","absolute","top-0"],[1,"space-y-8"],[1,"flex","items-center","justify-between"],[1,"text-3xl","font-bold","bg-gradient-to-r","from-orange-400","via-orange-300","to-amber-300","bg-clip-text","text-transparent"],[1,"text-slate-300","dark:text-slate-400","mt-1"],[1,"flex","items-center","gap-3"],[1,"group","flex","items-center","px-4","py-2.5","rounded-xl","bg-white/10","dark:bg-slate-800/40","text-white","hover:bg-white/20","dark:hover:bg-slate-700/60","transition-all","duration-300","shadow-lg","border","border-white/10","dark:border-slate-700/50","disabled:opacity-50",3,"click","disabled"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","mr-2","group-hover:scale-110","transition-transform","duration-300"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],[1,"font-medium"],[1,"group","flex","items-center","px-4","py-2.5","rounded-xl","bg-white/10","dark:bg-slate-800/60","text-white","hover:bg-white/20","dark:hover:bg-slate-700/80","transition-all","duration-300","shadow-lg","hover:shadow-xl","border","border-white/10","dark:border-slate-700/50","hover:border-white/20","dark:hover:border-slate-600/60","disabled:opacity-50",3,"click","disabled"],["class","h-5 w-5 mr-2 group-hover:rotate-180 transition-transform duration-500","fill","none","stroke","currentColor","viewBox","0 0 24 24",4,"ngIf"],["class","w-5 h-5 mr-2 animate-spin rounded-full border-2 border-white border-t-transparent",4,"ngIf"],[1,"backdrop-blur-sm","bg-white/10","dark:bg-slate-800/40","rounded-2xl","p-6","border","border-white/20","dark:border-slate-700/50","shadow-xl"],[1,"grid","grid-cols-1","md:grid-cols-4","gap-6"],[1,"space-y-2"],["for","estado",1,"block","text-sm","font-medium","text-slate-300"],["id","estado",1,"w-full","px-3","py-2","border","border-slate-600/50","rounded-xl","bg-white/10","dark:bg-slate-800/30","text-white","focus:outline-none","focus:ring-2","focus:ring-orange-400","focus:border-orange-400","transition-all","duration-300",3,"ngModelChange","change","ngModel"],["value","",1,"bg-slate-800","text-white"],["value","pendiente",1,"bg-slate-800","text-white"],["value","confirmada",1,"bg-slate-800","text-white"],["value","cancelada",1,"bg-slate-800","text-white"],["value","completada",1,"bg-slate-800","text-white"],["for","fecha_inicio",1,"block","text-sm","font-medium","text-slate-300"],["type","date","id","fecha_inicio",1,"w-full","px-3","py-2","border","border-slate-600/50","rounded-xl","bg-white/10","dark:bg-slate-800/30","text-white","focus:outline-none","focus:ring-2","focus:ring-orange-400","focus:border-orange-400","transition-all","duration-300",3,"ngModelChange","change","ngModel"],["for","fecha_fin",1,"block","text-sm","font-medium","text-slate-300"],["type","date","id","fecha_fin",1,"w-full","px-3","py-2","border","border-slate-600/50","rounded-xl","bg-white/10","dark:bg-slate-800/30","text-white","focus:outline-none","focus:ring-2","focus:ring-orange-400","focus:border-orange-400","transition-all","duration-300",3,"ngModelChange","change","ngModel"],[1,"flex","items-end"],[1,"w-full","px-4","py-2","border","border-white/20","dark:border-slate-600/50","rounded-xl","text-sm","font-medium","text-slate-300","bg-white/10","dark:bg-slate-800/30","hover:bg-white/20","dark:hover:bg-slate-700/50","transition-all","duration-300",3,"click"],["class","backdrop-blur-sm bg-red-500/20 border border-red-500/30 rounded-2xl p-6",4,"ngIf"],["class","text-center py-16",4,"ngIf"],["class","grid grid-cols-1 md:grid-cols-4 gap-6",4,"ngIf"],["class","space-y-6",4,"ngIf"],["class","flex items-center justify-between backdrop-blur-sm bg-white/10 dark:bg-slate-800/40 rounded-2xl p-6 border border-white/20 dark:border-slate-700/50 shadow-xl",4,"ngIf"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-5","w-5","mr-2","group-hover:rotate-180","transition-transform","duration-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"],[1,"w-5","h-5","mr-2","animate-spin","rounded-full","border-2","border-white","border-t-transparent"],[1,"backdrop-blur-sm","bg-red-500/20","border","border-red-500/30","rounded-2xl","p-6"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-red-300","flex-shrink-0"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"text-red-200","font-semibold"],[1,"text-red-300","text-sm"],[1,"mt-2","px-4","py-2","rounded-xl","bg-red-500/20","text-red-200","hover:bg-red-500/30","transition-all","duration-300","text-sm","font-medium",3,"click"],[1,"text-center","py-16"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"mx-auto","h-20","w-20","text-slate-400","mb-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","1","d","M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"],[1,"text-xl","font-semibold","text-white","mb-2"],[1,"text-slate-300","dark:text-slate-400","mb-6"],["class","px-6 py-3 rounded-xl bg-gradient-to-r from-orange-500 to-orange-400 text-white font-semibold hover:from-orange-600 hover:to-orange-500 transition-all duration-300",3,"click",4,"ngIf"],[1,"px-6","py-3","rounded-xl","bg-gradient-to-r","from-orange-500","to-orange-400","text-white","font-semibold","hover:from-orange-600","hover:to-orange-500","transition-all","duration-300",3,"click"],[1,"p-3","rounded-xl","bg-blue-500/20","text-blue-300"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"],[1,"text-slate-300","text-sm","font-medium"],[1,"text-2xl","font-bold","text-white"],[1,"p-3","rounded-xl","bg-yellow-500/20","text-yellow-300"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"p-3","rounded-xl","bg-green-500/20","text-green-300"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"p-3","rounded-xl","bg-purple-500/20","text-purple-300"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"],[1,"space-y-6"],["class","backdrop-blur-sm bg-white/10 dark:bg-slate-800/40 rounded-2xl border border-white/20 dark:border-slate-700/50 shadow-xl overflow-hidden",4,"ngFor","ngForOf","ngForTrackBy"],[1,"backdrop-blur-sm","bg-white/10","dark:bg-slate-800/40","rounded-2xl","border","border-white/20","dark:border-slate-700/50","shadow-xl","overflow-hidden"],[1,"px-6","py-4","bg-white/10","dark:bg-slate-700/40","border-b","border-white/20","dark:border-slate-600/50"],[1,"flex","items-center","gap-4"],[1,"w-12","h-12","bg-gradient-to-br","from-orange-500/20","to-orange-600/20","rounded-xl","flex","items-center","justify-center","border","border-orange-400/30"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-orange-300"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"],[1,"text-lg","font-semibold","text-white"],[1,"text-sm","text-slate-300"],[1,"relative","group","flex","items-center","px-4","py-2","rounded-xl","bg-blue-500/20","text-blue-300","hover:bg-blue-500/30","transition-all","duration-300","border","border-blue-400/30","hover:border-blue-400/50",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"],["class","absolute -top-2 -right-2 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center animate-pulse",4,"ngIf"],[1,"inline-flex","items-center","px-3","py-1","rounded-full","text-sm","font-semibold","border",3,"ngClass"],[1,"text-sm","text-slate-400"],["class","border-b border-white/20 dark:border-slate-600/50 bg-white/5 dark:bg-slate-800/20",4,"ngIf"],[1,"p-6"],["class","space-y-4",4,"ngIf"],["class","mt-6 pt-4 border-t border-white/20 dark:border-slate-600/50",4,"ngIf"],[1,"absolute","-top-2","-right-2","w-5","h-5","bg-red-500","text-white","text-xs","rounded-full","flex","items-center","justify-center","animate-pulse"],[1,"border-b","border-white/20","dark:border-slate-600/50","bg-white/5","dark:bg-slate-800/20"],[1,"flex","items-center","gap-3","mb-4"],[1,"p-2","rounded-lg","bg-blue-500/20","text-blue-300"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],[1,"ml-auto","p-2","rounded-lg","bg-white/10","hover:bg-white/20","text-slate-300","hover:text-white","transition-all","duration-300",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"bg-white/5","dark:bg-slate-800/30","rounded-xl","p-4","mb-4","max-h-64","overflow-y-auto","border","border-white/10","dark:border-slate-600/30"],["class","mb-3 flex",3,"ngClass",4,"ngFor","ngForOf"],["class","text-center py-8 text-slate-400",4,"ngIf"],[1,"flex","gap-3"],["type","text","placeholder","Escribe un mensaje...",1,"flex-1","px-4","py-3","border","border-slate-600/50","rounded-xl","bg-white/10","dark:bg-slate-800/30","text-white","placeholder-slate-400","focus:outline-none","focus:ring-2","focus:ring-orange-400","focus:border-orange-400","transition-all","duration-300",3,"ngModelChange","keyup.enter","ngModel"],[1,"px-6","py-3","rounded-xl","bg-gradient-to-r","from-orange-500","to-orange-400","text-white","font-semibold","hover:from-orange-600","hover:to-orange-500","transition-all","duration-300","disabled:opacity-50","disabled:cursor-not-allowed","shadow-lg","hover:shadow-xl",3,"click","disabled"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 19l9 2-9-18-9 18 9-2zm0 0v-8"],[1,"mb-3","flex",3,"ngClass"],[1,"max-w-xs","lg:max-w-md","px-4","py-2","rounded-xl",3,"ngClass"],[1,"text-sm"],[1,"text-xs","opacity-70","mt-1"],[1,"text-center","py-8","text-slate-400"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-12","h-12","mx-auto","mb-3","opacity-50"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","1","d","M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"],[1,"text-xs"],[1,"space-y-4"],[1,"p-2","rounded-lg","bg-green-500/20","text-green-300"],["class","backdrop-blur-sm bg-white/5 dark:bg-slate-800/30 border border-white/10 dark:border-slate-600/30 rounded-xl p-5",4,"ngFor","ngForOf","ngForTrackBy"],[1,"backdrop-blur-sm","bg-white/5","dark:bg-slate-800/30","border","border-white/10","dark:border-slate-600/30","rounded-xl","p-5"],[1,"flex","items-start","justify-between"],[1,"flex-1"],[1,"flex","items-center","justify-between","mb-3"],[1,"font-semibold","text-white","text-lg"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4","text-sm","mb-4"],[1,"flex","items-center","gap-2"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-slate-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"],[1,"text-slate-400"],[1,"font-medium","text-white"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-green-400"],[1,"font-medium","text-green-300"],["class","mb-3 p-3 bg-blue-500/10 border border-blue-400/30 rounded-lg",4,"ngIf"],["class","mb-3 p-3 bg-orange-500/10 border border-orange-400/30 rounded-lg",4,"ngIf"],[1,"ml-6","flex","flex-col","gap-3"],["class","flex items-center px-4 py-2 text-sm font-medium rounded-xl text-green-300 bg-green-500/20 hover:bg-green-500/30 border border-green-400/30 hover:border-green-400/50 transition-all duration-300 disabled:opacity-50",3,"disabled","click",4,"ngIf"],["class","flex items-center px-4 py-2 text-sm font-medium rounded-xl text-blue-300 bg-blue-500/20 hover:bg-blue-500/30 border border-blue-400/30 hover:border-blue-400/50 transition-all duration-300 disabled:opacity-50",3,"disabled","click",4,"ngIf"],["class","flex items-center px-4 py-2 text-sm font-medium rounded-xl text-red-300 bg-red-500/20 hover:bg-red-500/30 border border-red-400/30 hover:border-red-400/50 transition-all duration-300 disabled:opacity-50",3,"disabled","click",4,"ngIf"],[1,"mb-3","p-3","bg-blue-500/10","border","border-blue-400/30","rounded-lg"],[1,"text-blue-300","text-sm","font-medium","flex","items-center","gap-2"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],[1,"text-sm","text-blue-100","mt-1"],[1,"mb-3","p-3","bg-orange-500/10","border","border-orange-400/30","rounded-lg"],[1,"text-orange-300","text-sm","font-medium","flex","items-center","gap-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"],[1,"text-sm","text-orange-100","mt-1"],[1,"flex","items-center","px-4","py-2","text-sm","font-medium","rounded-xl","text-green-300","bg-green-500/20","hover:bg-green-500/30","border","border-green-400/30","hover:border-green-400/50","transition-all","duration-300","disabled:opacity-50",3,"click","disabled"],["class","w-4 h-4 mr-2 animate-spin","fill","none","stroke","currentColor","viewBox","0 0 24 24",4,"ngIf"],["class","w-4 h-4 mr-2","fill","none","stroke","currentColor","viewBox","0 0 24 24",4,"ngIf"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","mr-2","animate-spin"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],[1,"flex","items-center","px-4","py-2","text-sm","font-medium","rounded-xl","text-blue-300","bg-blue-500/20","hover:bg-blue-500/30","border","border-blue-400/30","hover:border-blue-400/50","transition-all","duration-300","disabled:opacity-50",3,"click","disabled"],[1,"flex","items-center","px-4","py-2","text-sm","font-medium","rounded-xl","text-red-300","bg-red-500/20","hover:bg-red-500/30","border","border-red-400/30","hover:border-red-400/50","transition-all","duration-300","disabled:opacity-50",3,"click","disabled"],[1,"mt-6","pt-4","border-t","border-white/20","dark:border-slate-600/50"],[1,"p-4","bg-white/5","dark:bg-slate-800/30","border","border-white/10","dark:border-slate-600/30","rounded-xl"],[1,"text-slate-400","text-sm","font-medium","flex","items-center","gap-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],[1,"text-sm","text-slate-300","mt-2"],[1,"flex","items-center","justify-between","backdrop-blur-sm","bg-white/10","dark:bg-slate-800/40","rounded-2xl","p-6","border","border-white/20","dark:border-slate-700/50","shadow-xl"],[1,"px-4","py-2","border","border-white/20","dark:border-slate-600/50","rounded-xl","text-sm","font-medium","text-slate-300","bg-white/10","dark:bg-slate-800/30","hover:bg-white/20","dark:hover:bg-slate-700/50","disabled:opacity-50","disabled:cursor-not-allowed","transition-all","duration-300",3,"click","disabled"],[1,"px-4","py-2","text-sm","font-medium","text-white"]],template:function(e,d){e&1&&f(0,te,4,0,"div",0)(1,Ve,50,13,"div",1),e&2&&(c("ngIf",d.loading&&!d.reservasData),a(),c("ngIf",!d.loading||d.reservasData))},dependencies:[U,j,H,P,W,G,A,N,X,K,Q,O,J,$,q],encapsulation:2})};export{Z as ReservasListComponent};
