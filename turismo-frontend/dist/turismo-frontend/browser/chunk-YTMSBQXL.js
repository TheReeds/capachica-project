import{a as K}from"./chunk-J5Q4PLQW.js";import{b as Y,d as U,h as q,y as J}from"./chunk-DV54EIF6.js";import{d as z,g as N,l as W}from"./chunk-ZI6AQ4XN.js";import{Fc as O,Gb as a,Hb as v,Hc as $,Ib as c,Jb as F,La as r,Lb as I,Mb as M,Nb as T,Qb as L,Sb as f,Tb as B,Va as A,Xb as _,Zb as E,_ as S,_a as x,fb as l,ga as k,gb as y,ha as w,ia as m,ib as D,ja as g,ob as t,pb as i,qb as d,tb as C,ub as b,uc as j,vb as h,vc as G,wc as H}from"./chunk-T2OCC6GX.js";import{a as R,d as V}from"./chunk-4CLCTAJ7.js";var X=o=>["/admin-emprendedores/emprendimiento",o,"dashboard"],P=(o,n,e)=>({"text-green-600 dark:text-green-400":o,"text-red-600 dark:text-red-400":n,"text-gray-600 dark:text-gray-400":e}),Z=(o,n,e,s)=>({"bg-yellow-500 text-white":o,"bg-gray-400 text-white":n,"bg-orange-600 text-white":e,"bg-blue-500 text-white":s}),ee=(o,n,e)=>({"bg-green-50 dark:bg-green-900/20":o,"bg-yellow-50 dark:bg-yellow-900/20":n,"bg-blue-50 dark:bg-blue-900/20":e}),te=(o,n,e)=>({"bg-green-500":o,"bg-yellow-500":n,"bg-blue-500":e}),ie=(o,n,e)=>({"text-green-800 dark:text-green-300":o,"text-yellow-800 dark:text-yellow-300":n,"text-blue-800 dark:text-blue-300":e});function ne(o,n){o&1&&(m(),t(0,"svg",17),d(1,"path",35),i())}function ae(o,n){o&1&&d(0,"div",36)}function re(o,n){if(o&1){let e=C();t(0,"button",37),b("click",function(){let p=k(e).$implicit,u=h();return w(u.setPeriodoRapido(p))}),a(1),i()}if(o&2){let e=n.$implicit,s=h();D("px-3 py-2 text-sm font-medium rounded-md transition-colors "+(s.periodoActual.nombre===e.nombre?"bg-orange-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600")),r(),c(" ",e.nombre," ")}}function se(o,n){o&1&&(t(0,"div",38)(1,"div",39),d(2,"div",40)(3,"div",41),i()())}function oe(o,n){if(o&1){let e=C();t(0,"div",42)(1,"div",43)(2,"div",44)(3,"div",45),m(),t(4,"svg",46),d(5,"path",47),i()(),g(),t(6,"div",48)(7,"h3",49),a(8,"Error al cargar las estad\xEDsticas"),i(),t(9,"div",50),a(10),i(),t(11,"div",51)(12,"button",52),b("click",function(){k(e);let p=h();return w(p.loadEstadisticas())}),a(13," Reintentar "),i()()()()()()}if(o&2){let e=h();r(10),v(e.error)}}function de(o,n){o&1&&(t(0,"div",121),m(),t(1,"svg",122),d(2,"path",123),i(),g(),t(3,"h3",124),a(4,"No hay datos de servicios"),i(),t(5,"p",125),a(6," No se encontraron reservas para este per\xEDodo. "),i()())}function le(o,n){if(o&1&&(t(0,"div",127)(1,"div",128),a(2),i(),t(3,"div",129)(4,"h4",74),a(5),i(),t(6,"div",130)(7,"span"),a(8),i(),t(9,"span"),a(10,"\u2022"),i(),t(11,"span"),a(12),_(13,"number"),i()()(),t(14,"div",131)(15,"div",132),d(16,"div",133),i()()()),o&2){let e=n.$implicit,s=n.index,p=h(3);r(),l("ngClass",B(10,Z,s===0,s===1,s===2,s>2)),r(),c(" ",s+1," "),r(3),v(e.nombre),r(3),c("",e.total_reservas," reservas"),r(4),c("S/. ",E(13,7,e.ingresos_totales,"1.2-2")," en ingresos"),r(4),y("width",p.getServicioPopularityPercentage(e,p.estadisticas.servicios.mas_solicitados),"%")}}function me(o,n){if(o&1&&(t(0,"div",76),x(1,le,17,15,"div",126),i()),o&2){let e=h(2);r(),l("ngForOf",e.estadisticas.servicios.mas_solicitados)("ngForTrackBy",e.trackByServicio)}}function ce(o,n){if(o&1&&(t(0,"div",134),d(1,"div",135),t(2,"p",136),a(3),i()()),o&2){let e=n.$implicit;l("ngClass",f(4,ee,e.type==="success",e.type==="warning",e.type==="info")),r(),l("ngClass",f(8,te,e.type==="success",e.type==="warning",e.type==="info")),r(),l("ngClass",f(12,ie,e.type==="success",e.type==="warning",e.type==="info")),r(),c(" ",e.message," ")}}function pe(o,n){if(o&1&&(t(0,"div",137),d(1,"div",138),t(2,"div")(3,"p",139),a(4),i(),t(5,"p",140),a(6),i()()()),o&2){let e=n.$implicit;r(4),v(e.title),r(2),v(e.description)}}function ge(o,n){o&1&&(m(),t(0,"svg",59),d(1,"path",60),i())}function ve(o,n){o&1&&(m(),t(0,"svg",59),d(1,"path",141),i())}function ue(o,n){o&1&&(m(),t(0,"svg",59),d(1,"path",60),i())}function xe(o,n){o&1&&(m(),t(0,"svg",59),d(1,"path",141),i())}function he(o,n){o&1&&(m(),t(0,"svg",59),d(1,"path",60),i())}function fe(o,n){o&1&&(m(),t(0,"svg",59),d(1,"path",141),i())}function be(o,n){if(o&1&&(t(0,"main",53)(1,"div",54)(2,"div",55)(3,"div",3)(4,"div")(5,"h3",56),a(6,"Total Reservas"),i(),t(7,"p",57),a(8),i(),t(9,"div",58),m(),t(10,"svg",59),d(11,"path",60),i(),a(12),i()(),g(),t(13,"div",61),m(),t(14,"svg",62),d(15,"path",63),i()()()(),g(),t(16,"div",64)(17,"div",3)(18,"div")(19,"h3",56),a(20,"Ingresos Totales"),i(),t(21,"p",57),a(22),_(23,"number"),i(),t(24,"div",58),m(),t(25,"svg",59),d(26,"path",60),i(),a(27),i()(),g(),t(28,"div",61),m(),t(29,"svg",62),d(30,"path",65),i()()()(),g(),t(31,"div",66)(32,"div",3)(33,"div")(34,"h3",56),a(35,"Tasa de Conversi\xF3n"),i(),t(36,"p",57),a(37),i(),t(38,"div",67),a(39),i()(),t(40,"div",61),m(),t(41,"svg",62),d(42,"path",68),i()()()(),g(),t(43,"div",69)(44,"div",3)(45,"div")(46,"h3",56),a(47,"Ocupaci\xF3n Promedio"),i(),t(48,"p",57),a(49),_(50,"number"),i(),t(51,"div",67),a(52," Basado en capacidad de servicios "),i()(),t(53,"div",61),m(),t(54,"svg",62),d(55,"path",70),i()()()()(),g(),t(56,"div",71)(57,"div",72)(58,"div",73)(59,"h3",74),a(60,"Reservas por Estado"),i()(),t(61,"div",75)(62,"div",76)(63,"div",3)(64,"div",8),d(65,"div",77),t(66,"span",78),a(67,"Confirmadas"),i()(),t(68,"div",79)(69,"span",80),a(70),i(),t(71,"div",81),a(72),i()()(),t(73,"div",82),d(74,"div",83),i(),t(75,"div",3)(76,"div",8),d(77,"div",84),t(78,"span",78),a(79,"Pendientes"),i()(),t(80,"div",79)(81,"span",80),a(82),i(),t(83,"div",81),a(84),i()()(),t(85,"div",82),d(86,"div",85),i(),t(87,"div",3)(88,"div",8),d(89,"div",86),t(90,"span",78),a(91,"Canceladas"),i()(),t(92,"div",79)(93,"span",80),a(94),i(),t(95,"div",81),a(96),i()()(),t(97,"div",82),d(98,"div",87),i()()()(),t(99,"div",72)(100,"div",73)(101,"h3",74),a(102,"Resumen de Planes"),i()(),t(103,"div",75)(104,"div",88)(105,"div",89)(106,"div",90),a(107),i(),t(108,"div",91),a(109,"Planes Activos"),i()(),t(110,"div",92)(111,"div",93),a(112),i(),t(113,"div",94),a(114,"Inscripciones"),i()()(),t(115,"div",95)(116,"div",96),a(117),_(118,"number"),i(),t(119,"div",97),a(120,"Ingresos Estimados de Planes"),i()()()()(),t(121,"div",98)(122,"div",73)(123,"h3",74),a(124,"Servicios M\xE1s Populares"),i(),t(125,"p",99),a(126,"Ranking basado en cantidad de reservas"),i()(),t(127,"div",75),x(128,de,7,0,"div",100)(129,me,2,2,"div",101),i()(),t(130,"div",98)(131,"div",73)(132,"h3",74),a(133,"Insights y Recomendaciones"),i(),t(134,"p",99),a(135,"An\xE1lisis autom\xE1tico basado en tus datos"),i()(),t(136,"div",75)(137,"div",102)(138,"div",76)(139,"h4",103),m(),t(140,"svg",104),d(141,"path",105),i(),a(142," An\xE1lisis de Rendimiento "),i(),g(),t(143,"div",106),x(144,ce,4,16,"div",107),i()(),t(145,"div",76)(146,"h4",103),m(),t(147,"svg",108),d(148,"path",109),i(),a(149," Recomendaciones "),i(),g(),t(150,"div",106),x(151,pe,7,2,"div",110),i()()()()(),t(152,"div",72)(153,"div",73)(154,"h3",74),a(155,"An\xE1lisis Comparativo"),i(),t(156,"p",99),a(157,"Comparaci\xF3n con per\xEDodo anterior"),i()(),t(158,"div",75)(159,"div",111)(160,"div",112)(161,"div",113),m(),t(162,"svg",114),d(163,"path",63),i(),g(),t(164,"span",115),a(165,"Reservas"),i()(),t(166,"div",116),a(167),i(),t(168,"div",117),x(169,ge,2,0,"svg",118)(170,ve,2,0,"svg",118),a(171),i()(),t(172,"div",112)(173,"div",113),m(),t(174,"svg",119),d(175,"path",65),i(),g(),t(176,"span",115),a(177,"Ingresos"),i()(),t(178,"div",116),a(179),_(180,"number"),i(),t(181,"div",117),x(182,ue,2,0,"svg",118)(183,xe,2,0,"svg",118),a(184),i()(),t(185,"div",112)(186,"div",113),m(),t(187,"svg",120),d(188,"path",68),i(),g(),t(189,"span",115),a(190,"Conversi\xF3n"),i()(),t(191,"div",116),a(192),i(),t(193,"div",117),x(194,he,2,0,"svg",118)(195,fe,2,0,"svg",118),a(196),i()()()()()()),o&2){let e=h();r(8),v(e.estadisticas.reservas.total),r(4),c(" ",e.getReservasTrend(),"% vs per\xEDodo anterior "),r(10),c("S/. ",E(23,42,e.estadisticas.reservas.ingresos_totales,"1.2-2"),""),r(5),c(" ",e.getIngresosTrend(),"% vs per\xEDodo anterior "),r(10),c("",e.getTasaConversion(),"%"),r(2),F(" ",e.estadisticas.reservas.confirmadas,"/",e.estadisticas.reservas.total," confirmadas "),r(10),c("",E(50,45,e.estadisticas.servicios.ocupacion_promedio,"1.1-1"),"%"),r(21),v(e.estadisticas.reservas.confirmadas),r(2),c(" ",e.getPercentage(e.estadisticas.reservas.confirmadas,e.estadisticas.reservas.total),"% "),r(2),y("width",e.getPercentage(e.estadisticas.reservas.confirmadas,e.estadisticas.reservas.total),"%"),r(8),v(e.estadisticas.reservas.pendientes),r(2),c(" ",e.getPercentage(e.estadisticas.reservas.pendientes,e.estadisticas.reservas.total),"% "),r(2),y("width",e.getPercentage(e.estadisticas.reservas.pendientes,e.estadisticas.reservas.total),"%"),r(8),v(e.estadisticas.reservas.canceladas),r(2),c(" ",e.getPercentage(e.estadisticas.reservas.canceladas,e.estadisticas.reservas.total),"% "),r(2),y("width",e.getPercentage(e.estadisticas.reservas.canceladas,e.estadisticas.reservas.total),"%"),r(9),v(e.estadisticas.planes.total_activos),r(5),v(e.estadisticas.planes.inscripciones_totales),r(5),c(" S/. ",E(118,48,e.estadisticas.planes.ingresos_estimados,"1.2-2")," "),r(11),l("ngIf",e.estadisticas.servicios.mas_solicitados.length===0),r(),l("ngIf",e.estadisticas.servicios.mas_solicitados.length>0),r(15),l("ngForOf",e.getPerformanceInsights()),r(7),l("ngForOf",e.getRecommendations()),r(16),v(e.estadisticas.reservas.total),r(),l("ngClass",f(54,P,e.getReservasTrend()>0,e.getReservasTrend()<0,e.getReservasTrend()===0)),r(),l("ngIf",e.getReservasTrend()>0),r(),l("ngIf",e.getReservasTrend()<0),r(),c(" ",e.Math.abs(e.getReservasTrend()),"% vs anterior "),r(8),c(" S/. ",E(180,51,e.estadisticas.reservas.ingresos_totales,"1.0-0")," "),r(2),l("ngClass",f(58,P,e.getIngresosTrend()>0,e.getIngresosTrend()<0,e.getIngresosTrend()===0)),r(),l("ngIf",e.getIngresosTrend()>0),r(),l("ngIf",e.getIngresosTrend()<0),r(),c(" ",e.Math.abs(e.getIngresosTrend()),"% vs anterior "),r(8),c("",e.getTasaConversion(),"%"),r(),l("ngClass",f(62,P,e.getConversionTrend()>0,e.getConversionTrend()<0,e.getConversionTrend()===0)),r(),l("ngIf",e.getConversionTrend()>0),r(),l("ngIf",e.getConversionTrend()<0),r(),c(" ",e.Math.abs(e.getConversionTrend()),"pp vs anterior ")}}var Q=class o{emprendimientoAdminService=S(K);route=S(z);emprendimientoId;emprendimiento;estadisticas;loading=!0;error="";periodoActual={fecha_inicio:"",fecha_fin:"",nombre:"\xDAltimo mes"};periodoCustom={fecha_inicio:"",fecha_fin:""};periodosRapidos=[];Math=Math;ngOnInit(){this.route.parent?.paramMap.subscribe(n=>{let e=n.get("id");console.log("Estadisticas - ID recibido:",e),e&&!isNaN(+e)?(this.emprendimientoId=+e,this.initPeriodos(),this.loadData()):console.error("Estadisticas - ID inv\xE1lido:",e)})}initPeriodos(){let n=new Date,e=new Date(n.getFullYear(),n.getMonth()-1,n.getDate()),s=new Date(n.getFullYear(),n.getMonth()-3,n.getDate()),p=new Date(n.getFullYear()-1,n.getMonth(),n.getDate()),u=new Date(n.getFullYear(),n.getMonth(),1);this.periodosRapidos=[{nombre:"\xDAltimo mes",fecha_inicio:this.formatDate(e),fecha_fin:this.formatDate(n)},{nombre:"\xDAltimos 3 meses",fecha_inicio:this.formatDate(s),fecha_fin:this.formatDate(n)},{nombre:"Este mes",fecha_inicio:this.formatDate(u),fecha_fin:this.formatDate(n)},{nombre:"\xDAltimo a\xF1o",fecha_inicio:this.formatDate(p),fecha_fin:this.formatDate(n)}],this.periodoActual=this.periodosRapidos[0]}formatDate(n){return n.toISOString().split("T")[0]}loadData(){this.loadEstadisticas()}loadEmprendimiento(){this.emprendimientoAdminService.getEmprendimiento(this.emprendimientoId).subscribe({next:n=>{this.emprendimiento=n},error:n=>{console.error("Error al cargar emprendimiento:",n)}})}loadEstadisticas(){this.loading=!0,this.error="",this.emprendimientoAdminService.getEstadisticasConsolidadas(this.emprendimientoId,{fecha_inicio:this.periodoActual.fecha_inicio,fecha_fin:this.periodoActual.fecha_fin}).subscribe({next:n=>{this.estadisticas=n,this.loading=!1},error:n=>{console.error("Error al cargar estad\xEDsticas:",n),this.error=n.error?.message||"Error al cargar las estad\xEDsticas",this.loading=!1}})}refreshData(){this.loadEstadisticas()}setPeriodoRapido(n){this.periodoActual=R({},n),this.loadEstadisticas()}aplicarPeriodoCustom(){!this.periodoCustom.fecha_inicio||!this.periodoCustom.fecha_fin||(this.periodoActual={nombre:"Per\xEDodo personalizado",fecha_inicio:this.periodoCustom.fecha_inicio,fecha_fin:this.periodoCustom.fecha_fin},this.loadEstadisticas())}getTasaConversion(){return!this.estadisticas||this.estadisticas.reservas.total===0?0:Math.round(this.estadisticas.reservas.confirmadas/this.estadisticas.reservas.total*100)}getPercentage(n,e){return e===0?0:Math.round(n/e*100)}getServicioPopularityPercentage(n,e){if(e.length===0)return 0;let s=Math.max(...e.map(p=>p.total_reservas));return s>0?n.total_reservas/s*100:0}getReservasTrend(){return Math.floor(Math.random()*30)-10}getIngresosTrend(){return Math.floor(Math.random()*25)-5}getConversionTrend(){return Math.floor(Math.random()*10)-3}getPerformanceInsights(){let n=[];if(!this.estadisticas)return n;let e=this.getTasaConversion(),s=this.estadisticas.servicios.ocupacion_promedio;return e>=80?n.push({type:"success",message:`Excelente tasa de conversi\xF3n del ${e}%. Tus clientes est\xE1n muy satisfechos con el servicio.`}):e<50&&n.push({type:"warning",message:`La tasa de conversi\xF3n del ${e}% est\xE1 por debajo del promedio. Considera revisar tus procesos de confirmaci\xF3n.`}),s>=75?n.push({type:"success",message:`Alta ocupaci\xF3n del ${s.toFixed(1)}%. Considera expandir tu capacidad o aumentar precios.`}):s<30&&n.push({type:"warning",message:`Baja ocupaci\xF3n del ${s.toFixed(1)}%. Revisa tu estrategia de marketing y precios.`}),this.estadisticas.reservas.pendientes>this.estadisticas.reservas.confirmadas&&n.push({type:"info",message:"Tienes m\xE1s reservas pendientes que confirmadas. Considera automatizar el proceso de confirmaci\xF3n."}),n}getRecommendations(){let n=[];if(!this.estadisticas)return n;if(this.estadisticas.servicios.mas_solicitados.length>0){let e=this.estadisticas.servicios.mas_solicitados[0];n.push({title:"Optimiza tu servicio estrella",description:`"${e.nombre}" es tu servicio m\xE1s popular. Considera crear paquetes especiales o aumentar su disponibilidad.`})}return this.estadisticas.reservas.canceladas>this.estadisticas.reservas.confirmadas*.2&&n.push({title:"Reduce las cancelaciones",description:"Implementa pol\xEDticas de cancelaci\xF3n m\xE1s claras y confirmaciones autom\xE1ticas para reducir la tasa de cancelaci\xF3n."}),this.estadisticas.planes.total_activos>0&&n.push({title:"Promociona tus planes",description:"Tienes planes activos con buen potencial. Considera campa\xF1as espec\xEDficas para aumentar las inscripciones."}),n.push({title:"Mejora la experiencia del cliente",description:"Implementa un sistema de feedback post-servicio para identificar \xE1reas de mejora y aumentar la satisfacci\xF3n."}),n}exportReport(){return V(this,null,function*(){if(this.estadisticas)try{let n=this.generateCSVReport(),e=new Blob([n],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a"),p=URL.createObjectURL(e);s.setAttribute("href",p),s.setAttribute("download",`estadisticas-${this.emprendimiento?.nombre}-${this.periodoActual.fecha_inicio}-${this.periodoActual.fecha_fin}.csv`),s.style.visibility="hidden",document.body.appendChild(s),s.click(),document.body.removeChild(s)}catch(n){console.error("Error al exportar reporte:",n),alert("Error al exportar el reporte")}})}generateCSVReport(){if(!this.estadisticas)return"";let n=[["Reporte de Estad\xEDsticas"],["Emprendimiento",this.emprendimiento?.nombre||""],["Per\xEDodo",`${this.periodoActual.fecha_inicio} a ${this.periodoActual.fecha_fin}`],["Generado el",new Date().toLocaleDateString()],[""],["RESERVAS"],["Total de reservas",this.estadisticas.reservas.total],["Reservas confirmadas",this.estadisticas.reservas.confirmadas],["Reservas pendientes",this.estadisticas.reservas.pendientes],["Reservas canceladas",this.estadisticas.reservas.canceladas],["Tasa de conversi\xF3n",`${this.getTasaConversion()}%`],["Ingresos totales",`S/. ${this.estadisticas.reservas.ingresos_totales}`],[""],["PLANES"],["Planes activos",this.estadisticas.planes.total_activos],["Total inscripciones",this.estadisticas.planes.inscripciones_totales],["Ingresos estimados",`S/. ${this.estadisticas.planes.ingresos_estimados}`],[""],["SERVICIOS"],["Ocupaci\xF3n promedio",`${this.estadisticas.servicios.ocupacion_promedio}%`],[""],["SERVICIOS M\xC1S POPULARES"],["Posici\xF3n","Servicio","Reservas","Ingresos"]];return this.estadisticas.servicios.mas_solicitados.forEach((e,s)=>{n.push([(s+1).toString(),e.nombre,e.total_reservas.toString(),`S/. ${e.ingresos_totales}`])}),n.map(e=>e.join(",")).join(`
`)}trackByServicio(n,e){return e.servicio_id}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=A({type:o,selectors:[["app-estadisticas-emprendimiento"]],decls:55,vars:17,consts:[[1,"min-h-screen","bg-gradient-to-br","from-gray-50","to-gray-100","dark:from-gray-900","dark:to-gray-800"],[1,"bg-white","dark:bg-gray-800","shadow-sm","border-b","border-gray-200","dark:border-gray-700"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8","py-6"],[1,"flex","items-center","justify-between"],["aria-label","Breadcrumb",1,"flex","mb-3"],[1,"inline-flex","items-center","space-x-1","md:space-x-3"],[1,"inline-flex","items-center"],["routerLink","/admin-emprendedores/mis-emprendimientos",1,"text-gray-700","dark:text-gray-300","hover:text-orange-600","dark:hover:text-orange-400"],[1,"flex","items-center"],["fill","currentColor","viewBox","0 0 20 20",1,"w-6","h-6","text-gray-400"],["fill-rule","evenodd","d","M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule","evenodd"],[1,"ml-1","text-gray-700","dark:text-gray-300","hover:text-orange-600","dark:hover:text-orange-400",3,"routerLink"],[1,"ml-1","text-gray-500","dark:text-gray-400"],[1,"text-3xl","font-bold","text-gray-900","dark:text-white"],[1,"text-gray-600","dark:text-gray-400","mt-1"],[1,"flex","items-center","space-x-4"],[1,"inline-flex","items-center","px-4","py-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","text-sm","font-medium","text-gray-700","dark:text-gray-300","bg-white","dark:bg-gray-700","hover:bg-gray-50","dark:hover:bg-gray-600","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-orange-500","disabled:opacity-50",3,"click","disabled"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],[1,"inline-flex","items-center","px-4","py-2","border","border-transparent","rounded-md","shadow-sm","text-sm","font-medium","text-white","bg-orange-600","hover:bg-orange-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-orange-500","disabled:opacity-50",3,"click","disabled"],["class","w-4 h-4 mr-2","fill","none","stroke","currentColor","viewBox","0 0 24 24",4,"ngIf"],["class","w-4 h-4 mr-2 animate-spin rounded-full border-2 border-white border-t-transparent",4,"ngIf"],[1,"bg-white","dark:bg-gray-800","rounded-lg","shadow-sm","border","border-gray-200","dark:border-gray-700","p-6"],[1,"flex","flex-wrap","items-center","justify-between","gap-4"],[1,"text-lg","font-medium","text-gray-900","dark:text-white","mb-2"],[1,"text-sm","text-gray-600","dark:text-gray-400"],[1,"flex","flex-wrap","items-center","gap-3"],[3,"class","click",4,"ngFor","ngForOf"],[1,"flex","items-center","space-x-2"],["type","date",1,"px-3","py-2","border","border-gray-300","dark:border-gray-600","rounded-md","text-sm","focus:outline-none","focus:ring-orange-500","focus:border-orange-500","dark:bg-gray-700","dark:text-white",3,"ngModelChange","ngModel"],[1,"text-gray-500","dark:text-gray-400","text-sm"],[1,"px-3","py-2","bg-blue-600","text-white","text-sm","font-medium","rounded-md","hover:bg-blue-700","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],["class","flex justify-center items-center py-20",4,"ngIf"],["class","max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",4,"ngIf"],["class","max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-12",4,"ngIf"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"],[1,"w-4","h-4","mr-2","animate-spin","rounded-full","border-2","border-white","border-t-transparent"],[3,"click"],[1,"flex","justify-center","items-center","py-20"],[1,"relative"],[1,"w-16","h-16","border-4","border-orange-200","rounded-full"],[1,"w-16","h-16","border-4","border-orange-600","border-t-transparent","rounded-full","animate-spin","absolute","top-0"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8","py-8"],[1,"bg-red-50","dark:bg-red-900/20","border","border-red-200","dark:border-red-800","rounded-lg","p-6"],[1,"flex"],[1,"flex-shrink-0"],["viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5","text-red-400"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule","evenodd"],[1,"ml-3"],[1,"text-sm","font-medium","text-red-800","dark:text-red-200"],[1,"mt-2","text-sm","text-red-700","dark:text-red-300"],[1,"mt-4"],[1,"bg-red-100","dark:bg-red-800","px-3","py-2","rounded-md","text-sm","font-medium","text-red-800","dark:text-red-200","hover:bg-red-200","dark:hover:bg-red-700",3,"click"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8","pb-12"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-6","mb-8"],[1,"bg-gradient-to-r","from-blue-500","to-blue-600","rounded-lg","shadow-lg","p-6","text-white"],[1,"text-lg","font-medium","opacity-90"],[1,"text-3xl","font-bold"],[1,"flex","items-center","mt-2","text-sm","opacity-80"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","mr-1"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"],[1,"w-16","h-16","bg-white","bg-opacity-20","rounded-full","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"],[1,"bg-gradient-to-r","from-green-500","to-green-600","rounded-lg","shadow-lg","p-6","text-white"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"],[1,"bg-gradient-to-r","from-purple-500","to-purple-600","rounded-lg","shadow-lg","p-6","text-white"],[1,"text-sm","opacity-80","mt-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"],[1,"bg-gradient-to-r","from-orange-500","to-orange-600","rounded-lg","shadow-lg","p-6","text-white"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-8","mb-8"],[1,"bg-white","dark:bg-gray-800","rounded-lg","shadow-lg","border","border-gray-200","dark:border-gray-700"],[1,"px-6","py-4","border-b","border-gray-200","dark:border-gray-700"],[1,"text-lg","font-medium","text-gray-900","dark:text-white"],[1,"p-6"],[1,"space-y-4"],[1,"w-4","h-4","bg-green-500","rounded-full","mr-3"],[1,"text-gray-700","dark:text-gray-300"],[1,"text-right"],[1,"text-lg","font-semibold","text-gray-900","dark:text-white"],[1,"text-sm","text-gray-500","dark:text-gray-400"],[1,"w-full","bg-gray-200","dark:bg-gray-700","rounded-full","h-2"],[1,"bg-green-500","h-2","rounded-full","transition-all","duration-300"],[1,"w-4","h-4","bg-yellow-500","rounded-full","mr-3"],[1,"bg-yellow-500","h-2","rounded-full","transition-all","duration-300"],[1,"w-4","h-4","bg-red-500","rounded-full","mr-3"],[1,"bg-red-500","h-2","rounded-full","transition-all","duration-300"],[1,"grid","grid-cols-2","gap-4"],[1,"text-center","p-4","bg-blue-50","dark:bg-blue-900/20","rounded-lg"],[1,"text-2xl","font-bold","text-blue-600","dark:text-blue-400"],[1,"text-sm","text-blue-800","dark:text-blue-300"],[1,"text-center","p-4","bg-green-50","dark:bg-green-900/20","rounded-lg"],[1,"text-2xl","font-bold","text-green-600","dark:text-green-400"],[1,"text-sm","text-green-800","dark:text-green-300"],[1,"mt-4","text-center","p-4","bg-purple-50","dark:bg-purple-900/20","rounded-lg"],[1,"text-2xl","font-bold","text-purple-600","dark:text-purple-400"],[1,"text-sm","text-purple-800","dark:text-purple-300"],[1,"bg-white","dark:bg-gray-800","rounded-lg","shadow-lg","border","border-gray-200","dark:border-gray-700","mb-8"],[1,"text-sm","text-gray-600","dark:text-gray-400","mt-1"],["class","text-center py-8",4,"ngIf"],["class","space-y-4",4,"ngIf"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],[1,"font-medium","text-gray-900","dark:text-white","flex","items-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","mr-2","text-blue-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"space-y-3"],["class","flex items-start p-3 rounded-lg",3,"ngClass",4,"ngFor","ngForOf"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","mr-2","text-orange-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"],["class","flex items-start p-3 bg-orange-50 dark:bg-orange-900/20 rounded-lg",4,"ngFor","ngForOf"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-6"],[1,"text-center","p-4","bg-gray-50","dark:bg-gray-700","rounded-lg"],[1,"flex","items-center","justify-center","mb-2"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-blue-500","mr-2"],[1,"font-medium","text-gray-900","dark:text-white"],[1,"text-2xl","font-bold","text-gray-900","dark:text-white","mb-1"],[1,"flex","items-center","justify-center","text-sm",3,"ngClass"],["class","w-4 h-4 mr-1","fill","none","stroke","currentColor","viewBox","0 0 24 24",4,"ngIf"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-green-500","mr-2"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-purple-500","mr-2"],[1,"text-center","py-8"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"mx-auto","h-16","w-16","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","1","d","M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"],[1,"mt-4","text-lg","font-medium","text-gray-900","dark:text-white"],[1,"mt-2","text-gray-500","dark:text-gray-400"],["class","flex items-center p-4 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",4,"ngFor","ngForOf","ngForTrackBy"],[1,"flex","items-center","p-4","bg-gray-50","dark:bg-gray-700","rounded-lg","hover:bg-gray-100","dark:hover:bg-gray-600","transition-colors"],[1,"flex-shrink-0","w-8","h-8","rounded-full","flex","items-center","justify-center","text-sm","font-bold",3,"ngClass"],[1,"flex-1","ml-4"],[1,"flex","items-center","space-x-4","text-sm","text-gray-600","dark:text-gray-400","mt-1"],[1,"flex-shrink-0","w-24"],[1,"w-full","bg-gray-200","dark:bg-gray-600","rounded-full","h-2"],[1,"bg-orange-500","h-2","rounded-full","transition-all","duration-300"],[1,"flex","items-start","p-3","rounded-lg",3,"ngClass"],[1,"flex-shrink-0","w-2","h-2","rounded-full","mt-2","mr-3",3,"ngClass"],[1,"text-sm",3,"ngClass"],[1,"flex","items-start","p-3","bg-orange-50","dark:bg-orange-900/20","rounded-lg"],[1,"flex-shrink-0","w-2","h-2","bg-orange-500","rounded-full","mt-2","mr-3"],[1,"text-sm","text-orange-800","dark:text-orange-300","font-medium"],[1,"text-sm","text-orange-700","dark:text-orange-400","mt-1"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 17h8m0 0V9m0 8l-8-8-4 4-6-6"]],template:function(e,s){e&1&&(t(0,"div",0)(1,"header",1)(2,"div",2)(3,"div",3)(4,"div")(5,"nav",4)(6,"ol",5)(7,"li",6)(8,"a",7),a(9," Mis Emprendimientos "),i()(),t(10,"li")(11,"div",8),m(),t(12,"svg",9),d(13,"path",10),i(),g(),t(14,"a",11),a(15),i()()(),t(16,"li")(17,"div",8),m(),t(18,"svg",9),d(19,"path",10),i(),g(),t(20,"span",12),a(21,"Estad\xEDsticas"),i()()()()(),t(22,"h1",13),a(23),i(),t(24,"p",14),a(25," An\xE1lisis detallado del rendimiento de tu emprendimiento "),i()(),t(26,"div",15)(27,"button",16),b("click",function(){return s.exportReport()}),m(),t(28,"svg",17),d(29,"path",18),i(),a(30," Exportar Reporte "),i(),g(),t(31,"button",19),b("click",function(){return s.refreshData()}),x(32,ne,2,0,"svg",20)(33,ae,1,0,"div",21),a(34," Actualizar "),i()()()()(),t(35,"div",2)(36,"div",22)(37,"div",23)(38,"div")(39,"h3",24),a(40,"Per\xEDodo de An\xE1lisis"),i(),t(41,"p",25),a(42),i()(),t(43,"div",26),x(44,re,2,3,"button",27),t(45,"div",28)(46,"input",29),T("ngModelChange",function(u){return M(s.periodoCustom.fecha_inicio,u)||(s.periodoCustom.fecha_inicio=u),u}),i(),t(47,"span",30),a(48,"a"),i(),t(49,"input",29),T("ngModelChange",function(u){return M(s.periodoCustom.fecha_fin,u)||(s.periodoCustom.fecha_fin=u),u}),i(),t(50,"button",31),b("click",function(){return s.aplicarPeriodoCustom()}),a(51," Aplicar "),i()()()()()(),x(52,se,4,0,"div",32)(53,oe,14,1,"div",33)(54,be,197,66,"main",34),i()),e&2&&(r(14),l("routerLink",L(15,X,s.emprendimientoId)),r(),c(" ",(s.emprendimiento==null?null:s.emprendimiento.nombre)||"Emprendimiento"," "),r(8),c(" Estad\xEDsticas - ",(s.emprendimiento==null?null:s.emprendimiento.nombre)||"Cargando..."," "),r(4),l("disabled",s.loading||!s.estadisticas),r(4),l("disabled",s.loading),r(),l("ngIf",!s.loading),r(),l("ngIf",s.loading),r(9),c(" Actualmente analizando: ",s.periodoActual.nombre," "),r(2),l("ngForOf",s.periodosRapidos),r(2),I("ngModel",s.periodoCustom.fecha_inicio),r(3),I("ngModel",s.periodoCustom.fecha_fin),r(),l("disabled",!s.periodoCustom.fecha_inicio||!s.periodoCustom.fecha_fin),r(2),l("ngIf",s.loading&&!s.estadisticas),r(),l("ngIf",s.error),r(),l("ngIf",s.estadisticas&&!s.error))},dependencies:[$,j,G,H,O,W,N,J,Y,U,q],styles:["[_nghost-%COMP%]{display:block}"]})};export{Q as EstadisticasEmprendimientoComponent};
