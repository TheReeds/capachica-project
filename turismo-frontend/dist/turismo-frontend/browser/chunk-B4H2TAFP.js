import{a as l}from"./chunk-TFAAEB5J.js";import{f as d}from"./chunk-XR3SD2KY.js";import{A as c,R as s,_ as t,l as i,p as u}from"./chunk-ETYZCZA5.js";var N=(e,r)=>{let o=t(l),n=t(d);return console.log("AuthGuard: Verificando autenticaci\xF3n..."),o.isLoggedIn()&&o.currentUser()?(console.log("AuthGuard: Usuario ya autenticado, acceso permitido"),!0):o.getToken()?(console.log("AuthGuard: Token encontrado, intentando cargar perfil..."),o.loadUserProfile(!0).pipe(s(a=>console.log("AuthGuard: Resultado de carga de perfil:",a)),u(a=>a?(console.log("AuthGuard: Usuario cargado correctamente, acceso permitido"),!0):(console.log("AuthGuard: No se pudo cargar el usuario, redirigiendo a login"),n.createUrlTree(["/login"]))),c(a=>(console.error("AuthGuard: Error al cargar perfil",a),i(n.createUrlTree(["/login"])))))):(console.log("AuthGuard: No hay token, redirigiendo a login"),n.createUrlTree(["/login"]))},T=()=>{let e=t(l),r=t(d);return console.log("NonAuthGuard: Verificando que NO est\xE9 autenticado..."),e.isLoggedIn()?(console.log("NonAuthGuard: Usuario autenticado, verificando estado de emprendimientos"),e.administraEmprendimientos()?(console.log("NonAuthGuard: Usuario administra emprendimientos, redirigiendo a selecci\xF3n de panel"),r.createUrlTree(["/seleccion-panel"])):e.loadUserProfile(!1).pipe(u(o=>e.administraEmprendimientos()?(console.log("NonAuthGuard: Perfil cargado, usuario administra emprendimientos"),r.createUrlTree(["/seleccion-panel"])):(console.log("NonAuthGuard: Perfil cargado, usuario no administra emprendimientos"),r.createUrlTree(["/dashboard"]))),c(()=>(console.log("NonAuthGuard: Error al cargar perfil, redirigiendo a dashboard por defecto"),i(r.createUrlTree(["/dashboard"])))))):(console.log("NonAuthGuard: Usuario no autenticado, acceso permitido"),!0)};export{N as a,T as b};
