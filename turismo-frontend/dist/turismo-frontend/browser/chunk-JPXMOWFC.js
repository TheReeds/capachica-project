import{Sc as d,U as o,g as a}from"./chunk-T2OCC6GX.js";var r=class t{darkModeKey="darkMode";darkModeSubject=new a(this.getInitialDarkModeState());darkMode$=this.darkModeSubject.asObservable();constructor(){this.updateBodyClass(this.darkModeSubject.value),window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e=>{localStorage.getItem(this.darkModeKey)===null&&this.setDarkMode(e.matches)})}getInitialDarkModeState(){let e=localStorage.getItem(this.darkModeKey);return e!==null?e==="true":window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?!0:d.defaultDarkMode||!1}toggleDarkMode(){this.setDarkMode(!this.darkModeSubject.value)}setDarkMode(e){localStorage.setItem(this.darkModeKey,String(e)),this.darkModeSubject.next(e),this.updateBodyClass(e)}isDarkMode(){return this.darkModeSubject.value}updateBodyClass(e){console.log("Updating theme to dark mode:",e),e?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}initializeTheme(){console.log("Initializing theme, dark mode:",this.darkModeSubject.value),this.updateBodyClass(this.darkModeSubject.value)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=o({token:t,factory:t.\u0275fac,providedIn:"root"})};export{r as a};
